(this["webpackJsonplis-ui"]=this["webpackJsonplis-ui"]||[]).push([[0],{203:function(e,t,a){e.exports=a.p+"static/media/pdf.3f43df44.svg"},261:function(e){e.exports=JSON.parse('{"name":"lis-ui","version":"0.1.0","private":true,"dependencies":{"axios":"^0.20.0","file-saver":"^2.0.2","lodash":"^4.17.20","moment":"^2.27.0","node-sass":"^4.14.1","react":"^16.13.1","react-csv":"^2.0.3","react-dom":"^16.13.1","react-geolocated":"^3.1.0","react-google-maps":"^9.4.5","react-notifications-component":"^2.4.1","react-outside-click-handler":"^1.3.0","react-redux":"^7.2.1","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-select":"^3.2.0","react-select-search":"^3.0.9","react-table":"^7.5.0","reactstrap":"^8.5.1","reactstrap-date-picker":"0.0.11","redux":"^4.0.5","redux-thunk":"^2.3.0","store":"^2.0.12"},"scripts":{"start":"npm run pretty && react-scripts start","build":"react-scripts build","pretty":"prettier --write \\"./**/*.{js,jsx,json,html}\\""},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"prettier":"^2.1.1"}}')},268:function(e,t,a){e.exports=a(557)},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},350:function(e,t,a){},39:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABfCAYAAACOTBv1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAUcaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDEtMDlUMTY6MDc6NTItMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAxLTA5VDE2OjA4OjI2LTA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTAxLTA5VDE2OjA4OjI2LTA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjkwYWRmN2YwLTMxODMtNmI0My05NDZhLTUzZWZkYTUwNTczYSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5MGFkZjdmMC0zMTgzLTZiNDMtOTQ2YS01M2VmZGE1MDU3M2EiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MGFkZjdmMC0zMTgzLTZiNDMtOTQ2YS01M2VmZGE1MDU3M2EiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjkwYWRmN2YwLTMxODMtNmI0My05NDZhLTUzZWZkYTUwNTczYSIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0wOVQxNjowNzo1Mi0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsRKbC0AAAaQSURBVHhe7ZzdS1VNFIdHSzMzLbGUykKKyizDIEQEyT6QvJYuRPrnkq66jj4gJVAQqQutwCgisw8ro7TUsnzfnsUeOhyOpjizZ22bB4bTmZOzZ/1m9toza2Z20X+/MZEgFCefkQBE8QMSxQ9IFD8gUfyARPEDEsUPSBQ/IFH8gETxAxLFD0gUPyCZC6wtLy+b2dlZ8+vXL0lbtmyRVFlZaYqLs9WXMiP+y5cvzcTEhPnw4YNZWFhIcv+wfft2s2fPHnPs2DFz6NChJFc36sVH8JGREbO4uGhKS0uldxcVFSW//gEzuCt+/PhhysrKTGtrqzSEZtSKv7S0ZG7evGmmp6dFzPW4FBqBxqqtrTXd3d2mpKQk+UUXKsXHrVy/fl0E34hwNCAN0dvbK25JG+qeUPTYa9euiegb7bG2DMqjXG2oE58ev143sxqUQ3mUqw1V4uPjeZi6Et5iy6N8TagR/82bN2Zqasps3bo1yXEL7ofyX79+neSER434Dx48kKFkoWGkCyiX8h8+fJjkhEeF+PPz8+bt27cyU/UJ5b97906upwEV4j979kz8sq9eb6F8EtfTgArxZ2ZmvPn6fLgO19OACvF52Loe4awE1+F6GlAhvm93k0/a11uJ4OITFk4bLRGV4OL7HuEUIi0X9zdU1ILpf1q9kets27Yt+RYWFeLv3bs3NffDdbieBlSIf/z4cfPz58/km18IM3M9DagQv6amxlRUVEjs3SeUv3PnTrmeBnQ8eX7T2NgoS4A+oXwtvR7UiN/S0iKRR1+9n3Ip/8yZM0lOeNSIDxcuXDDfvn1zPvKhPMq9ePFikqMDVeIfOHDAtLe3F9washEoj3L379+f5OhAlfjQ3NxsDh8+7OQOsD2e8ihXG2q3jjx+/Njcv3/flJeXrzvcjEn4eOL2HR0dpqmpKflFF6o3TX3+/NncunXLzM3NycOSUMRqjYApTKIYyzOk7OrqMrt3705+1Yf6HWswOTlpxsbGZLWL6tIQ+SA4DVNXV2dOnz5tDh48mPyil0yIb2Gc/v79e/P8+XMROrfq+HXCBqzTZoVMib/ZUDfa+ZeI4gckih+QKH5AovgBieIHJIofkEyM85m9Emrgk72WRCmJ2zDTJY/4DydPmN2St2vXroKzYG2oE5+1XAR+8eKFHPn89OmTiE1wjWCZje/kbv8gHzOI69j/R2NUV1fLEdGGhgZpmLS2JK4VFeJ//fpVTh2yf57wASCUjWbaYJr9XA1rDp8kGsIuzhN+qK+vN0ePHpU149AEE58zUgj+5MkTEZ8eTVpv+Hit2Ibg7iAh/okTJ+S4KPuGQpC6+BxiHh8fl+AYQuObc3t3GmAyiecFDUJQ7tSpU3KIOk1SE//Lly9mYGBA3AqC41bSFHwlMB+3REPgljo7O01VVVXyq19SEX9wcFBcjD1lqEH0fJCBuwB3yDOBRvCNV/FZgbpx44YY5fO8lUuQg3UDOklPT4+siPnCm/hPnz6VHu/yTG2a2Lvg3Llzcif4wIsqvCEE/85YO4vCA/Wm/tiBPT5wrgyu5vbt2zLrzIKbWQ3qjx3Yg12ucS7+nTt3MuPf1wJ2YA92ucap+IQFGEpqm8ZvFOzBLuxziVPxh4eH5TbdjGAX9rnEqfgfP37cNO4mH+zCPpc4Ff/y5csS6vU4dQgC9mAX9rnEqfhEDNkt9v379yRnc4A92IV9LnEqPrS1tUkMnVjJZgA7sAe7XONcfLhy5YqEhwndZhnqjx3Y4wMv4kNfX59EC7PaANSb+mOHL7yJz/T86tWrYkTWGsDWmfr7DI94DynTe/r7++XfWZh82SVHerzv+qa2mMLb/VgI13L0vhCMagim8R7ONEhNfLh3756Empktaop2Ej5mHE/o+Pz580muf1IVH3i73927d8Wnhg7AYToLJ4xoLl26lPppxdTFtwwNDZlHjx6JG8L4NBsBk2l83MzJkyflmGgIgokPLKrTCNwNPNzsA85HQ1gz7WK5PfOb1mJ5IYKKb2Fn2ujoqHn16pWIQyO4uhswj15uyyVEcPbsWZm1hkaF+Lnw2kUSdwMPQhqBhzNpLY2BOfwdCdH5+3379pkjR45I0oQ68XPhLYDcDSzhsZiBuyDRCLnVtt/ZD0Ri/w27DnAt2o7856Ja/HyYJ3Ccn95Mr6Z3c0fY7zt27JBxelbIlPibDT0znX+QKH5AovgBieIHJIofkCh+QKL4AYniBySKH5AofkCi+AGJ4gfDmP8B5/JW9bOK524AAAAASUVORK5CYII="},553:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAHqADAAQAAAABAAAAHgAAAADpiRU/AAAHgElEQVRIDd1Wa3AT1xX+dlcrWcLyIxZ+S7ash18Y23hoARMCTowd4wAFPJAHDWmIU94ZSlIClNIJTZomBKZlYEhpGiC0gBMaIIXMkMSBYhwCBgKmwealALZlW5ZkWZKllVa3d9WxYoYmg2l+9czs3nPPPec795xzX8A9kTPdQBau/AeRlFnpt3xqBUYd/z0uNDeHhZLsTrLps9dEJO60LDK2bDl5acH8sDqz6oVlZNKHh+EIidipS/4yoikxvc8vNb2Yabwb2JqeRdro5083EnL+I9KUkhlRCk8rkc4uWgzBwhBsPqNBYuPnaEszBu6A/987/alZpKamRvlfkW7ojMHBA6zr8VpNG01gszG/QjNlPOc+sNHZc/H1ZyUllsk2scMoc3F4XEWlxYzJ29Sx7VPe3iINMtLPk2YgAcopfrEMm/y5aNhWi92jS15h1i9frj1ntd6MS0jAhENH0JuViWt9ro9+9s72asnw/siVU7TCZsgvuy/rL0cUiqSpLvS9xoQQxqMzNdmzzJecpryrrQUFj9j1OYHzenPE0JFfVDSR1MsGA4UL7HlhdWJQFEcxgphH+v0GhUiSbVyMzGKexJw8fZN027xkpcN2rp6ZpBhsHOFP/Xbh6g5ajCu5+eRrvTlo0WaRa/FJ5NTXPWTanB3kemsLqdAaiLBB86cBo3AdpE6x0UDKq6tx8eBB6EWCTIZDYnER/OXzkWXQoalhDyr+shuBggKcUHAweQK5kRgSYmL2C273DFtI/MORb24uC6NbrgF//2DAEbL27Yt+d+NbfRzHoTEl9Upk4Adl6J6RefKLG+4L1GHMF1vS9KSysPjTIQPYxk5Y1Lv1N4ScfD9nyMadWiO5WDRm4vcZhheJ0zRihSPT/JXTkNPiycm3+Gb/1HwbBElXrjkHjLsfm3XXLgmXyhsSXyLB4HDQQ4MXWMhbWuYbaK1jT+875+u0iK27job8nU6eAkXWhQQa9qziOFZF5So6FEUIOgT+QasiFvstSbiSVMUpJ0/jmy61fjYwi4H2P4uEYWUSCqEADN0lc6PEWEXGTCTtO4X+gBwL5hTiNdFXRhIMZUzPtQhI2POmy6OSXTGxzfYoGdrVSmZnpzX3veZ3sHOcALfXj3Fj9IBKBWeZ/1Na/8jUw8aLS/61VNPbO0LjEZDo9CJVFQXG68Ow52rh9waRoFFBxvPwNipgyyu8eOvkvvDZF572HJ6kJI4rhsztAWlphUHwIVohw9zOLozNILB29KDf6YQ/xOP6T6bmH5631kWj5MOefb19/Nza5xFISoLi0UrYH5rgy5HLsX/seBgu78Vfp0/BiYTUy29Ul+O0WgHh4YmRDYUDB/6sfmx8KZk+YULkGhjI6OC2rLBw75Jn5pHSHPOOwfL/c56sWyd3GHLf9dHjzkdvESHdGOhPN04catjfJvweLV2XLkWHgqHybfQWLqn8Mayjc2W3O10jya/eOMYwVHiPFFmk96gPMn163M0bt/agrHiSfXTB7gJTap1sdM2Re7Uf0LvLsXRnoa6OheMT1tIhcArIWV4Z5L6Jk/lKOlL57l17L9wS/IZhVC0pWj0p/vL5zwfAhtJGUu1csDI+cPRQq0dr1Ay8JuJp4qTcyRgGSo6tcuszh6n9AUOKJg7qFx8Hr+JX+Xmk0ww386Go7st1jbrEz04eVBblaFwbJ09NNi099F2TiThmnXZOTkjojiLRfIRTQn+8WqkkbW2LGRJEdEcXuI37ofjiWDk4vhyiF2eOHkYwhh4VYhAhmWIvZxz/xXc5leTfOtZruGATx4XosUlohINJ6qV23eqrnrHnbzG9jofEYD/crAKBGe9JJyXk9DBJUCtRU/UE3jzeiNnnz89eppt1nZqtGowzmI94oLXlrKPGbmasXbMEGaNiCVSgoBLR2YTqDbrju7raJhLBjxA4+Hw+1L78MqqeWYinl9Shz9GPLb+bittXT2DZosV4ilViRXKgxb/QXhrzdF/PYKcSH3EsdRxnnyr0vHrzrKqxnRUTVOBUCrA8B8KxEGkWXDYXQnYPhodCYDQJUH/8Id6/4MWGzf/EyIxYbP3jTFjb2/BE1aMQPB5sF1noYphbXTllBYa6t3slHwMUSbUkWD+vuTbG7WbTiICUTh/SWA4PcDJE08DldDyFLjUPbR2CgIxfr6b5T8eZHfUI9AdRPTkbLMvAbrPB6fVgVohBOr0iu7oC2mTrYWdQnw2/WrlD5XL+nLFYfJGIFz/5ZOlX584eTNHpHliydi2uXr+B9rY2NJ2ia4Q+eYRgEO6eHjioLECjDwUEaDNzYBrzLPr9QH6eFrz7NLZuehMLGTmmikBdtgGlr7+KIC0ZS202rFkDe/vtRccuXNoSiXjz7t0Nz82cudrZ69zq7LEjQ6dFt7UDQq8LqQbD9qi4uI6g1vfxGh/JFLu7iyESnr9+gyNXfskFaUEYuYxTxMeLS7XGJpj1H+Q3NIzMFoVPcq2dyDKZcOPqVbr4veAYpkPK7l20bt062YN5edMml5S8Vmo2V92lMDQBMyojo+yRoqL1lT8qqamvv/OhPDSoH0j7378XCynfp1vbAAAAAElFTkSuQmCC"},557:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(31),r=a.n(o),l=a(22),c=a(68),i=a(162),m=a(119),d=a.n(m),u=a(9),p="SET_AUTH_TOKENS",g="SET_BOOKING_DETAILS",f="SET_BOOKING_DETAILS_SEARCH",h="SET_BOOKING_STATUS_SEARCH",b="SET_PATIENT_FILTER_SEARCH",v="SET_TRACKING_LIST",E="SET_TEST_LIST_DETAILS",N="SET_PHLEBOTOMIST_DETAILS",y="SET_BOOKING_TYPE_DETAILS",_="SET_BOOKING_FILTER_DETAILS",w="SET_BOOKING_DETAILED",S="SET_TEST_DETAILS",k="SET_GENDER",D="RESET_ALL",C="SET_ADDRESS_TYPE",x="SET_PATIENT_RELATIONSHIP",L="SET_PATIENT",O="SET_PATIENT_LIST",T="SET_USER_ADDRESS_LIST",A="SET_PROMOTION",M="APPLY_PROMOTION",P="SET_GROUP_TEST_LIST",j="SET_SOS_FILTER_LIST",Y="SET_SOS_LIST",F="SET_BOOKING_DETAILS_FILTER_DATA",B="SET_NOTIFICATION",I="SET_NOTIFICATION_COUNT",R="SET_REVIEW_TYPE",U="SET_RATING_ACTION_TYPE",G="SET_RATING_BY_STAR",V="SET_RATED_BY",z="SET_RATING",H="OTP_SEND_PATIENT",W={currentUser:{}},Z={bookingDetailsList:[],bookingDetailsSearch:[],bookingDetailsStatus:[],phlebotomistList:[],bookingTypeList:[],bookingDetailed:{},bookingFilterList:{},testList:[],filterDataList:{}},X={bookTestFilter:[],bookTestList:[],genderList:[],patientRelationshipList:[],addressTypeList:[],patientList:[],patientUserList:[],userAddressList:[],promotionList:[],applyPromotionList:[]},J={trackingList:[]},Q={groupTestList:[]},q={filterList:[],sosList:[]},K={notificationList:[]},$={ratingList:[],reviewTypeList:[],ratingActionTypeList:[],ratingByStarList:[],ratedByList:[]},ee=Object(c.b)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{currentUser:Object(u.a)({},t.payload)});default:return e}},bookingDetailsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{bookingDetailsList:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{bookingDetailsSearch:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{bookingDetailsStatus:t.payload});case N:return Object(u.a)(Object(u.a)({},e),{},{phlebotomistList:t.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{bookingTypeList:t.payload});case _:return Object(u.a)(Object(u.a)({},e),{},{bookingFilterList:t.payload});case w:return Object(u.a)(Object(u.a)({},e),{},{bookingDetailed:t.payload});case S:return Object(u.a)(Object(u.a)({},e),{},{testList:t.payload});case F:return Object(u.a)(Object(u.a)({},e),{},{filterDataList:t.payload});case D:return{bookingDetailsList:[],bookingDetailsSearch:[],bookingDetailsStatus:[],phlebotomistList:[],bookingTypeList:[],bookingDetailed:{},bookingFilterList:{},testList:[],filterDataList:{}};default:return e}},bookTestState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{bookTestFilter:t.payload});case E:return Object(u.a)(Object(u.a)({},e),{},{bookTestList:t.payload});case x:return Object(u.a)(Object(u.a)({},e),{},{patientRelationshipList:t.payload});case k:return Object(u.a)(Object(u.a)({},e),{},{genderList:t.payload});case D:return{bookTestFilter:[],bookTestList:[],genderList:[],patientRelationshipList:[],addressTypeList:[],patientList:[],patientUserList:[],userAddressList:[],promotionList:[],applyPromotionList:[]};case C:return Object(u.a)(Object(u.a)({},e),{},{addressTypeList:t.payload});case L:return Object(u.a)(Object(u.a)({},e),{},{patientList:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{patientUserList:t.payload});case T:return Object(u.a)(Object(u.a)({},e),{},{userAddressList:t.payload});case A:return Object(u.a)(Object(u.a)({},e),{},{promotionList:t.payload});case M:return Object(u.a)(Object(u.a)({},e),{},{applyPromotionList:t.payload});default:return e}},trackingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(u.a)(Object(u.a)({},e),{},{trackingList:t.payload});case D:return{trackingList:[]};default:return e}},groupTestState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(u.a)(Object(u.a)({},e),{},{groupTestList:t.payload});case D:return{groupTestList:[]};default:return e}},sosAlertState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{filterList:t.payload});case Y:return Object(u.a)(Object(u.a)({},e),{},{sosList:t.payload});case D:return{filterList:[],sosList:[]};default:return e}},notificationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(u.a)(Object(u.a)({},e),{},{notificationList:t.payload});default:return e}},ratingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(u.a)(Object(u.a)({},e),{},{ratingList:t.payload});case D:return{ratingList:[],reviewTypeList:[],ratingActionTypeList:[],ratingByStarList:[],ratedByList:[]};case R:return Object(u.a)(Object(u.a)({},e),{},{reviewTypeList:t.payload});case U:return Object(u.a)(Object(u.a)({},e),{},{ratingActionTypeList:t.payload});case G:return Object(u.a)(Object(u.a)({},e),{},{ratingByStarList:t.payload});case V:return Object(u.a)(Object(u.a)({},e),{},{ratedByList:t.payload});default:return e}}}),te=a(13),ae=a(14),ne=a(16),se=a(15),oe=a(266),re=a(30),le=a(25),ce=(a(278),a(279),a(280),a(281),a(282),a(283),a(284),a(6)),ie=a.n(ce),me=a(10),de=a.n(me),ue="http://product.sukraa.in/MA_API/Api/Labadmin",pe=ue,ge="".concat(ue,"/Ladadmin_Login"),fe=!0;"localhost"===window.location.hostname?(pe="http://product.sukraa.in/MA_API/Api/Labadmin",ge="http://product.sukraa.in/MA_API/Api/Labadmin/Ladadmin_Login",fe=!0):"183.82.246.18"===window.location.hostname?(pe="".concat(ue),ge="".concat(ue,"/Ladadmin_Login"),fe=!1):"34.209.211.19"===window.location.hostname?(pe="http://product.sukraa.in/MA_API/Api/Labadmin",ge="http://product.sukraa.in/MA_API/Api/Labadmin/Ladadmin_Login",fe=!1):(pe="".concat(ue),ge="".concat(ue,"/Ladadmin_Login"),fe=!1);var he,be=fe,ve=pe,Ee=ge,Ne="/Labadmin_Login",ye="/OTP_Send",_e="/SetPassword",we="/Order_Booking_List",Se="/Get_Search_Filters",ke="/Get_Search_Filters",De="/Get_Search_Filters",Ce="/App_Settings",xe="/Get_Search_Filters",Le="/Search_Patients",Oe="/Get_Collector",Te="/Get_Booking_Types",Ae="/Tracking_Of_Bookings",Me="/Order_Booking_Detail",Pe="/Fetch_Services_For_Order",je="/Action_On_Booking",Ye="/Get_Gender",Fe="/Get_Relationship",Be="/Get_Address_Type",Ie="/Add_Patient",Re="Get_Patient",Ue="Get_Patient_List",Ge="Get_User_Address",Ve="Get_Promotion",ze="Add_Promotion",He="Modify_Promotion",We="Apply_Promotion",Ze="Search_Patients_ToLink",Xe="Get_Patient_NonLinked",Je="View_Prescription",Qe="InvoiceDownload",qe="Booking_Order",Ke="Update_Ordered_Booking",$e="Add_Package",et="Package_List",tt="SOS_Alert_List",at="User_Notify_In_List",nt="User_Notify_In_Count",st="User_Notify_Update",ot="Search_Filters_Ratings",rt="View_Ratings_Feedbacks",lt="Get_Booking_Slot_Daywise",ct="Get_Sample_Collection_Charge",it="OtpSend_Patient",mt="OtpVerification_Patient",dt=0;var ut=function(){if("object"===typeof de.a.get("userSession")&&de.a.get("userSession").Message)return de.a.get("userSession").Message[0].Labadmin_Code;gt()},pt=function(){return!("object"!==typeof de.a.get("userSession")||!de.a.get("sessionTill"))&&(he||ft(),ie()().isAfter(de.a.get("sessionTill"))&&gt(),!0)},gt=function(){de.a.clearAll(),clearInterval(he),window.location.href="/"},ft=function(){dt=0,he=setInterval((function(){++dt>1800&&gt()}),1e3)},ht=function(){dt=0,ie()().isBefore(de.a.get("sessionTill"))&&de.a.set("sessionTill",ie()().add(20,"m").toDate())};document.addEventListener("keypress",(function(){pt()&&ht()}),!1),document.addEventListener("keydown",(function(){pt()&&ht()}),!1),document.addEventListener("mousemove",(function(){pt()&&ht()}),!1),window.addEventListener("offline",(function(){})),window.addEventListener("online",(function(){}));var bt="/login",vt="/",Et="/forget-password",Nt="/reset-password",yt="/booking-details",_t="/tracking",wt="/book-test",St="/book-test/book",kt="/notifications",Dt="/register-patient",Ct="/promotion",xt="/group-test",Lt="/sos-alert",Ot="/rating",Tt=a(20),At=a(7),Mt=a.n(At),Pt=a(12),jt=a(95),Yt=a.n(jt),Ft=Yt.a.create({baseURL:ve}),Bt=Yt.a.create({baseURL:ve});Bt.interceptors.request.use((function(e){var t=e,a=de.a.get("userSession");return It.isTokenExpired()?It.refresh_token(a.refresh_token).then((function(e){return de.a.set("userSession",e),e&&e.refresh_token&&e.expires_in&&de.a.set("expiryTime",It.tokenExpires(e.expires_in)),t.Authorization=e.token_type+" "+e.access_token,t})).catch((function(e){})):e}),(function(e){return Promise.reject(e)})),Bt.interceptors.response.use((function(e){return e}),(function(e){if(401===e.response.status){var t=de.a.get("userSession");return It.refresh_token(t.refresh_token).then((function(t){return de.a.set("userSession",t),t&&t.refresh_token&&t.expires_in&&de.a.set("expiryTime",It.tokenExpires(t.expires_in)),e.config.headers.Authorization=t.token_type+" "+t.access_token,Promise.resolve(Bt(e.config))})).catch((function(e){}))}return Promise.reject(e.response)}));var It=function(){function e(){Object(te.a)(this,e)}return Object(ae.a)(e,null,[{key:"httpHeader",value:function(e){var t=new Date,a={};return a={"Content-Type":"application/json",offset:t.getTimezoneOffset()},e&&(a={"Content-Type":"application/json",offset:t.getTimezoneOffset(),Authorization:"object"===typeof de.a.get("userSession")?"".concat(de.a.get("userSession").token_type," ").concat(de.a.get("userSession").access_token):""}),a}},{key:"isTokenExpired",value:function(){var e=de.a.get("expiryTime");return Date.now()>e-12e4||Date.now()>e}},{key:"tokenExpires",value:function(e){return Date.now()+1e3*e}},{key:"OAUTH",value:function(t,a){return new Promise((function(n,s){var o={headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded"},url:Ee,method:"POST",auth:{username:"web_app",password:"changeit"},data:"grant_type=password&scope=openid&username=".concat(t,"&password=").concat(a)};e.callAPI(o,n,s,!0)}))}},{key:"get",value:function(t,a,n){return new Promise((function(s,o){var r={method:"GET",url:t,params:a,headers:e.httpHeader(n)};e.callAPI(r,s,o,!1)}))}},{key:"post",value:function(t,a,n){return new Promise((function(s,o){var r={method:"POST",url:t,data:a,headers:e.httpHeader(n)};e.callAPI(r,s,o,!1)}))}},{key:"put",value:function(t,a,n){return new Promise((function(s,o){var r={method:"PUT",url:t,data:a,headers:e.httpHeader(n)};e.callAPI(r,s,o,!1)}))}},{key:"delete",value:function(t,a,n){return new Promise((function(s,o){var r={method:"DELETE",url:t,params:a,headers:e.httpHeader(n)};e.callAPI(r,s,o,!1)}))}},{key:"refresh_token",value:function(t){return new Promise((function(a,n){var s={headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded"},url:Ee,method:"POST",auth:{username:"web_app",password:"changeit"},data:"grant_type=refresh_token&refresh_token=".concat(t,"&scope=openid")};e.callAPI(s,a,n,!0)}))}}]),e}();It.callAPI=function(e,t,a,n){(n?Ft:Bt)(e).then((function(e){t(e.data)})).catch((function(e){a(e.data)}))};var Rt=a(17),Ut=function(e,t,a){return function(){m.store.addNotification({title:e,message:t,type:a,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{showIcon:!0,duration:5e3,pauseOnHover:!0}})}},Gt=function(e){return function(){var t=Object(Pt.a)(Mt.a.mark((function t(a){return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:D})}catch(n){e(!1)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Vt=function(e){return Object(Pt.a)(Mt.a.mark((function t(){var a;return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,It.post(Ce,{});case 3:(a=t.sent).SuccessFlag?e(!0,a.Message[0].Client_Logo):e(!1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},zt=a(261),Ht=Object(l.b)(null,{getAppSettings:Vt})((function(e){var t=e.children,a=e.getAppSettings,o=Object(n.useState)(""),r=Object(Rt.a)(o,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){a((function(e,t){e&&c(t)}))}),[]),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"d-flex flex-column align-items-center h-100 login justify-content-center"},s.a.createElement("div",{className:"align-self-center mt-3 mobile-width p-4 curved w-25 bg-white"},s.a.createElement("img",{src:l,alt:"",className:"mx-auto img-fluid w-50 d-table mt-4 mb-3"}),s.a.createElement("hr",{className:"mt-4 mb-4"}),t),s.a.createElement("div",{className:"d-flex justify-content-between mt-2 fs-13"},s.a.createElement("span",{className:"mr-5"},"Version ",zt.version),s.a.createElement("span",{className:"ml-3"},"Powered by SUKRAA"))))})),Wt=function(e){return void 0===e||null===e||0===e.length},Zt=function(e){return void 0===e||null===e||""===e.trim()},Xt=a(174),Jt=/^\S*$/,Qt=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){pt()&&n.props.history.push(wt)},n.handleChange=function(e){n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim("")))},n.onClickLogin=function(){var e=n.state,t=e.username,a=e.password;n.setState({showLoginError:!1}),Zt(t)||Zt(a)||!Jt.test(t)||!Jt.test(a)?n.setState({hasError:!0}):(n.setState({showLoading:!0}),n.props.authenticate(n.state.username.trim(),n.state.password.trim(),(function(e){n.setState({showLoading:!1}),e?n.props.history.push(wt):n.setState({showLoginError:!0})})))},n.state={username:"",password:"",showLoading:!1,hasError:!1,showLoginError:!1,showPassword:!1},n}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=t.hasError,r=t.showLoginError,l=t.showPassword;return s.a.createElement(Ht,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Login"),s.a.createElement("p",{className:"text-muted"},"Login to your account using your credentials"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",onChange:function(t){return e.handleChange(t)},value:a})),o&&(Zt(a)||!Jt.test(a))&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid username."))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Password"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:l?"text":"password",className:"form-control",placeholder:"Enter password",name:"password",onChange:function(t){return e.handleChange(t)},value:n,onKeyPress:function(t){"Enter"===t.key&&e.onClickLogin()}}),s.a.createElement("div",{className:"input-group-append",onClick:function(){return e.setState({showPassword:!e.state.showPassword})}},s.a.createElement("span",{className:"input-group-text bg-transparent"},s.a.createElement("i",{className:"fa ".concat(l?"fa-eye-slash":"fa-eye")})))),o&&(Zt(n)||!Jt.test(n))&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid password."))),r&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Invalid username or password.")),s.a.createElement("div",{className:"d-flex justify-content-between mt-4"},s.a.createElement("button",{className:"btn btn-dark px-4",onClick:function(){return e.onClickLogin()},disabled:this.state.showLoading},"Login",this.state.showLoading&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})),s.a.createElement(le.b,{to:Et,className:"align-self-center"},s.a.createElement("small",null,"Forgot Password?")))))}}]),a}(n.Component),qt=Object(l.b)(null,{authenticate:function(e,t,a){return function(){var n=Object(Pt.a)(Mt.a.mark((function n(s){var o,r;return Mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={Username:e,Password:t},n.next=4,It.post(Ne,o);case 4:(r=n.sent).SuccessFlag?(s({type:p,payload:r.Message[0]}),de.a.set("userSession",r),de.a.set("sessionTill",ie()().add(20,"m").toDate()),a(!0)):a(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0,a(!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}})(Qt),Kt=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={showNav:!1,clientLogo:"",notifyCount:""},e.componentDidMount=function(){e.props.getAppSettings((function(t,a){t&&e.setState({clientLogo:a})})),e.props.getNotificationCount({Labadmin_Code:ut()},(function(t,a){t?e.setState({notifyCount:a}):e.setState({notifyCount:0})})),e.getNotifyCount()},e.getNotifyCount=function(){setInterval((function(){e.props.getNotificationCount({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code},(function(t,a){t?e.setState({notifyCount:a}):e.setState({notifyCount:0})}))}),1e5)},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"top-header"},s.a.createElement("nav",{className:"navbar fixed-top navbar-expand-md custom-navbar navbar-dark"},s.a.createElement("img",{className:"navbar-brand",src:this.state.clientLogo,id:"logo_custom",width:"8%",alt:""}),s.a.createElement("button",{className:"navbar-toggler navbar-toggler-right custom-toggler",type:"button",onClick:function(){return e.setState({showNav:!e.state.showNav})}},s.a.createElement("span",{className:"navbar-toggler-icon "})),s.a.createElement("div",{className:"collapse navbar-collapse ".concat(this.state.showNav?"show":"collapsed"),id:"collapsibleNavbar"},s.a.createElement("ul",{className:"navbar-nav ml-auto main-nav"},s.a.createElement("li",{className:"nav-item ".concat((window.location.pathname===wt||window.location.pathname===Dt)&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat((window.location.pathname===wt||window.location.pathname===Dt)&&"active"),to:wt},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-vial pr-1  ".concat((window.location.pathname===wt||window.location.pathname===Dt)&&"active")}),"Book Test"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===yt&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===yt&&"active"),to:yt},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-calendar-check pr-1  ".concat(window.location.pathname===yt&&"active")}),"Booking Details"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===_t&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===_t&&"active"),to:_t},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-map-marker-alt pr-1  ".concat(window.location.pathname===_t&&"active")}),"Tracking"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===Ct&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===Ct&&"active"),to:Ct},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-bullhorn pr-1"}),"Promotion"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===xt&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===xt&&"active"),to:xt},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-users-medical pr-1"}),"Group Test"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===Lt&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===Lt&&"active"),to:Lt},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-siren-on pr-1"}),"SOS Alert"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===Ot&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===Ot&&"active"),to:Ot},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-star pr-1"}),"Rating/Feedback"))),s.a.createElement("li",{className:"nav-item ".concat(window.location.pathname===kt&&"Active")},s.a.createElement(le.b,{className:"nav-link ".concat(window.location.pathname===kt&&"active"),to:kt,style:{width:"52px"}},s.a.createElement("b",{style:{width:"30px",height:"30px",position:"relative"}},s.a.createElement("i",{className:"far fa-bell fa-2x"}),s.a.createElement("div",{style:{position:"absolute",padding:"2px",top:"-11px",left:"9px",borderRadius:"25px"}},0!==this.state.notifyCount?this.state.notifyCount:null)))),s.a.createElement("li",{className:"nav-item",onClick:function(){return gt()}},s.a.createElement(le.b,{className:"nav-link",to:bt},s.a.createElement("b",null,s.a.createElement("i",{className:"far fa-sign-out-alt pr-1"}),"Logout")))))))}}]),a}(n.Component),$t=Object(l.b)(null,{getAppSettings:Vt,getNotificationCount:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(nt,e);case 3:200===(n=a.sent).Code?t(!0,n.Message[0].Notify_Count):t(!1),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(!1);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))}})(Kt),ea=function(e){for(var t=function(t){Object(ne.a)(n,t);var a=Object(se.a)(n);function n(e){var t;return Object(te.a)(this,n),(t=a.call(this,e)).state={},t}return Object(ae.a)(n,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wrapper bg-white"},s.a.createElement("div",{className:"d-flex h-100"},s.a.createElement("div",{className:"main-contentainer d-flex flex-grow-1 flex-column container-fluid p-0"},s.a.createElement($t,null),s.a.createElement(e,this.props)))))}}]),n}(n.Component),a=arguments.length,o=new Array(a>1?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];return l.b.apply(void 0,o)(t)},ta=a(39),aa=a.n(ta),na=function(e){return s.a.createElement("div",{className:"box_sec w-25 px-2 mb-3"},s.a.createElement("div",{className:"amazon_products bg-white rounded-right pt-3",style:{borderLeft:"3px solid ".concat(e.Booking_Type_Color_Code),minHeight:"234px"}},s.a.createElement("div",{className:"row pl-3"},s.a.createElement("div",{className:"col-sm-12 pr-0 col-md-4 col-lg-4 text-center text-lg-left text-md-left"},s.a.createElement("img",{style:{width:"inherit"},height:"95",src:e.Pt_Profile_Picture&&""!==e.Pt_Profile_Picture.trim()?e.Pt_Profile_Picture:aa.a,alt:""}),s.a.createElement("p",{className:"mt-2 text-center text-truncate m-0",title:e.Pt_Name},e.Pt_Name),s.a.createElement("small",{className:"mt-2 text-center text-truncate"},"Age - ",e.Pt_First_Age),e.Booking_No&&s.a.createElement("small",{className:"mt-2 text-center"},"BID: ",e.Booking_No),e.Sid_No&&e.Sid_No.trim().length?s.a.createElement("small",{className:"mt-2 text-center"},"SID: ",e.Sid_No):null),s.a.createElement("div",{className:"col-sm-12 col-md-8 col-lg-8 text-center text-lg-left text-md-left mb-2",style:{maxHeight:"213px"}},s.a.createElement("div",{className:"d-flex flex-column justify-content-between"},s.a.createElement("div",null,s.a.createElement("div",{className:"d-flex flex-row justify-content-center justify-content-lg-start"},s.a.createElement("div",null,s.a.createElement("p",{className:"m-0",style:{fontWeight:"bold"}},e.Branch_Name?s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"}):null,e.Branch_Name))),s.a.createElement("div",{className:"m-0 pt-2"},s.a.createElement("div",null,s.a.createElement("p",{className:"m-0"},s.a.createElement("i",{className:"far fa-mars pr-1"}),e.Pt_Gender_Desc)),s.a.createElement("div",null,s.a.createElement("p",{className:"m-0"},e.Pt_Mobile_No?s.a.createElement("i",{className:"far fa-mobile pr-1"}):null,e.Pt_Mobile_No))),s.a.createElement("p",{className:"m-0",title:function(){var t="";return e.Street&&(t+=e.Street+", "),e.Place&&(t+=e.Place+", "),e.Land_Mark1&&(t+=e.Land_Mark1+", "),e.Land_Mark2&&(t+=e.Land_Mark2+", "),e.City&&(t+=e.City+", "),e.PinCode&&(t+=e.PinCode),t}()},(e.Place||e.Land_Mark1||e.Land_Mark2||e.City||e.PinCode)&&"W"!==e.Booking_Type_Code?s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"}):null,function(){var t="";e.Street&&(t+=e.Street+", "),e.Place&&(t+=e.Place+", "),e.Land_Mark1&&(t+=e.Land_Mark1+", "),e.Land_Mark2&&(t+=e.Land_Mark2+", "),e.City&&(t+=e.City+", "),e.PinCode&&(t+=e.PinCode);var a=t.slice(0,55);return t.length>60&&(a+="..."),a}()),s.a.createElement("div",{className:"badge badge-warning mt-2 mb-2 text-wrap mr-1",style:{backgroundColor:e.Booking_Status_Color_Code,color:"white"}},e.Booking_Status_Desc)),s.a.createElement("div",null,s.a.createElement("div",{className:"mb-1"},s.a.createElement("button",{type:"button",className:"btn btn-dark rounded mr-2",onClick:function(){return e.onClickView(e.Booking_No,e.Booking_Type,e.Firm_No,e.Booking_Date,e.Pt_Name,e.Branch_Name)}},"View"),s.a.createElement("button",{type:"button",className:"btn btn-light rounded",disabled:!e.Is_Cancellable||!1===e.Is_Cancellable||"Cancelled Bookings"===e.Booking_Status_Desc,onClick:function(){return e.onCancelView(e.Booking_No,e.Booking_Type,e.Firm_No,e.Booking_Date)}},"Cancel"))))))))},sa=a(194),oa=a(195),ra=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(we,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:g,payload:s.Message[0].Booking_List}),n({type:F,payload:e}),t(!0)):(n({type:g,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:g,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},la=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Oe,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:N,payload:s.Message}),t(!0)):(n({type:N,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:N,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ca=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Te,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:y,payload:s.Message}),t(!0)):(n({type:y,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:y,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ia=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Pe,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:S,payload:s.Message[0].Service_List}),t(!0)):(n({type:S,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:S,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ma=a(27),da=a.n(ma),ua=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t;if("searchFieldCode"===e.target.name)n.setState((t={},Object(Tt.a)(t,e.target.name,e.target.value),Object(Tt.a)(t,"searchText",""),t));else if("searchText"===e.target.name)if("PM"===n.state.searchFieldCode){(/^[0-9\b]+$/.test(e.target.value)||""===e.target.value)&&n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim("")))}else n.setState(Object(Tt.a)({},e.target.name,e.target.value));else n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.getBookingDetails=function(){n.props.onLoadTrue();var e=n.state,t=e.searchText,a=e.searchFieldCode,s=e.dateOfSearch,o=e.bookType,r=e.bookingStatus,l={Labadmin_Code:n.props.labAdminCode,Date_Filter_Type:n.state.bookingDate?"B":"S",Date_Of_Search:ie()(s).format("YYYY/MM/DD"),Search_Text:t||"",Search_Field_Code:a,Booking_Type:o||"",Booking_Status_Code:r||""};n.props.getBookingDetails(l,(function(e){n.props.onLoadFalse(),e?n.props.getBookingFilterDetails(l,(function(e){e&&console.log("")})):console.log("")}))},n.handleChangeBookingStatus=function(e,t){n.setState({bookingStatus:e,showBookingStatusDropdown:!1,bookingStatusDesc:t})},n.state={searchText:"",searchFieldCode:"PI",bookingDate:!0,scheduleDate:!1,dateOfSearch:ie()(new Date).format("YYYY-MM-DD"),showBookingStatusDropdown:!1,bookingStatus:"",bookingStatusDesc:""},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoadTrue();this.props.getBookingDetailsSearch({Search_Type_Code:"B"},(function(e){console.log("")}));this.props.getBookingStatusDetails({Search_Type_Code:"S"},(function(e){console.log("")})),this.props.getBookingTypeDetails({},(function(e){console.log("")}));var t=this.state,a=t.searchText,n=t.searchFieldCode,s=t.dateOfSearch,o=t.bookType,r=t.bookingStatus,l={Labadmin_Code:this.props.labAdminCode,Date_Filter_Type:this.state.bookingDate?"B":"S",Date_Of_Search:ie()(s).format("YYYY/MM/DD"),Search_Text:a||"",Search_Field_Code:n,Booking_Type:o||"",Booking_Status_Code:r||""};this.props.getBookingDetails(l,(function(t){e.props.onLoadFalse(),t?e.props.getBookingFilterDetails(l,(function(e){e&&console.log("")})):console.log("")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchText,n=t.dateOfSearch,o=t.showBookingStatusDropdown,r=t.searchFieldCode;return s.a.createElement("div",{className:"filter-product bg-dark p-4 fs-13"},s.a.createElement("div",{className:"row d-flex"},s.a.createElement("div",{className:"col-sm"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"Filter"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement("select",{className:"form-control form-search border-0",name:"searchFieldCode",value:r,onChange:function(t){return e.handleChange(t)}},this.props.filterList&&this.props.filterList.map((function(e,t){return s.a.createElement("option",{value:e.Filter_Code,key:t},e.Filter_Desc)}))))))),s.a.createElement("div",{className:"col-sm-4 mt-lg-0 mt-md-0 mt-3"},s.a.createElement("h6",null,"Search"),s.a.createElement("input",{type:"text",className:"form-control form-search border-0",placeholder:"Search by PID, Patient Name, Mobile, Booking Id",title:"Search by PID, Patient Name, Mobile, Booking Id",id:"form-search",value:a,name:"searchText",onChange:function(t){return e.handleChange(t)}})),s.a.createElement("div",{className:"col-sm-2 mt-lg-0"},s.a.createElement("div",{className:"form-check form-check-inline mb-1"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"bookingDateType",id:"bookingDate",value:"B",onChange:function(){e.setState({scheduleDate:!1,bookingDate:!0})},checked:this.state.bookingDate}),s.a.createElement("label",{className:"form-check-label",htmlFor:"bookingDate"},"Booking Date")),s.a.createElement("div",{className:"form-check form-check-inline mb-1"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:"scheduleDate",value:"S",onChange:function(){e.setState({scheduleDate:!0,bookingDate:!1})},checked:this.state.scheduleDate}),s.a.createElement("label",{className:"form-check-label",htmlFor:"scheduleDate"},"Schedule Date")),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"dateOfSearch",value:n,onChange:function(t){e.setState({dateOfSearch:ie()(t).format("YYYY-MM-DD")})},dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"col-sm-1 mt-lg-0 mt-3"},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Book Type"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",name:"bookType",placeholder:"Select",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.props.bookTypeList&&this.props.bookTypeList.map((function(e,t){if("L"!==e.Booking_Type_Code)return s.a.createElement("option",{value:e.Booking_Type_Code,key:t},e.Type_Of_Booking)}))))))),s.a.createElement("div",{className:"col-sm mt-lg-0 mt-3"},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Booking Status"),s.a.createElement(sa.a,null,s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement("a",{className:"select",onClick:function(){return e.setState({showBookingStatusDropdown:!o})}},this.state.bookingStatusDesc?this.state.bookingStatusDesc:"All"),s.a.createElement("ul",{className:"option-list",style:{display:o?"block":"none"}},s.a.createElement("li",{className:"d-flex",onClick:function(){return e.handleChangeBookingStatus("","All")}},s.a.createElement("span",{className:"filter-box",style:{backgroundColor:"#fff"}}),s.a.createElement("a",null,"All")),this.props.statusList&&this.props.statusList.map((function(t,a){return s.a.createElement("li",{className:"d-flex",key:a,onClick:function(){return e.handleChangeBookingStatus(t.Filter_Code,t.Filter_Desc)}},s.a.createElement("span",{className:"filter-box",style:{backgroundColor:t.Filter_Color}}),s.a.createElement("a",null," ",t.Filter_Desc," "))}))))))),s.a.createElement("div",{className:"col-sm-1 d-flex align-items-center"},s.a.createElement("div",{className:"form-group m-0 mb-2"},s.a.createElement("button",{className:"btn btn-sm btn-primary br-5",onClick:function(){return e.getBookingDetails()}},"Search")))))}}]),a}(n.Component),pa=Object(l.b)(null,{getBookingDetails:ra,getBookingDetailsSearch:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Se,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:f,payload:s.Message[0].Filter_Type_List}),t(!0)):(n({type:f,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:f,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getBookingStatusDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ke,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:h,payload:s.Message[0].Filter_Type_List}),t(!0)):(n({type:h,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:h,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getBookingFilterDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:_,payload:e}),t(!0)}catch(s){n({type:_,payload:[]}),t(!1)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getBookingTypeDetails:ca})(ua),ga=a(63),fa=a(196),ha=a(197),ba=a(78),va=a(80),Ea=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Re,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:L,payload:s.Message}),t(!0,s.Message)):(n({type:L,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:L,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Na=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ue,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:O,payload:s.Message[0].Patient_Detail}),t(!0,s.Message[0])):(n({type:O,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:O,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ya=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ge,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:T,payload:s.Message[0].User_Address}),t(!0,s.Message[0])):(n({type:T,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:T,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},_a=function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(We,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(n):t(n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},wa=function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(qe,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(n):t(n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},Sa=function(e){return function(t){t({type:S,payload:e})}},ka=function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(lt,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(n):t(n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},Da=function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ct,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")&&"true"===n.SuccessFlag?t(!0,n.Message[0]):t(!1,n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1,a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},Ca=a(160),xa=a.n(Ca),La=a(259),Oa=a(190),Ta=a(191),Aa=a(192),Ma="success",Pa="danger",ja=(a(349),Yt.a.create({baseURL:ve,headers:{}})),Ya=(a(350),Object(l.b)(null,{getTestDetails:ia,viewPrescription:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Je,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(!0,n):t(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},bookingUpdate:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ke,e);case 3:(n=a.sent).SuccessFlag,t(n),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},getPromotiontApplyDetails:_a,showNotification:Ut,getCollectionCharges:Da,viewInvoice:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Qe,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(!0,n):t(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))}})((function(e){console.log(e);var t=Object(n.useState)({}),o=Object(Rt.a)(t,2),r=o[0],c=o[1],i=Object(n.useState)([]),m=Object(Rt.a)(i,2),d=m[0],u=m[1],p=Object(n.useState)(""),g=Object(Rt.a)(p,2),f=g[0],h=g[1],b=Object(n.useState)(""),v=Object(Rt.a)(b,2),E=v[0],N=v[1],y=Object(n.useState)([]),_=Object(Rt.a)(y,2),w=(_[0],_[1]),S=Object(n.useState)(""),k=Object(Rt.a)(S,2),D=k[0],C=k[1],x=Object(n.useState)({value:"",label:""}),L=Object(Rt.a)(x,2),O=(L[0],L[1]),T=Object(l.c)((function(e){return e.bookingDetailsState})).testList,A=Object(n.useState)(T),M=Object(Rt.a)(A,2),P=M[0],j=M[1],Y=Object(n.useState)("a"),F=Object(Rt.a)(Y,2),B=F[0],I=F[1],R=Object(n.useState)([]),U=Object(Rt.a)(R,2),G=U[0],V=U[1],z=Object(n.useState)(0),H=Object(Rt.a)(z,2),W=H[0],Z=H[1],X=Object(n.useState)({}),J=Object(Rt.a)(X,2),Q=J[0],q=J[1],K=Object(n.useState)(0),$=Object(Rt.a)(K,2),ee=$[0],te=$[1],ae=Object(n.useState)({Availed_Times:0,Coupon_Code:"",Coupon_Desc:"",Coupon_Heading:"",Offer_Percentage:0,Offer_Times:0,Validity_ToDate:""}),ne=Object(Rt.a)(ae,2),se=ne[0],oe=ne[1],re=Object(n.useState)(!1),le=Object(Rt.a)(re,2),ce=le[0],me=le[1],ue=Object(n.useState)(!1),pe=Object(Rt.a)(ue,2),ge=pe[0],fe=pe[1],he=Object(n.useState)(!1),be=Object(Rt.a)(he,2),ve=be[0],Ee=be[1],Ne=Object(n.useState)(!1),ye=Object(Rt.a)(Ne,2),_e=ye[0],we=ye[1],Se=Object(n.useState)(""),ke=Object(Rt.a)(Se,2),De=(ke[0],ke[1]),Ce=Object(n.useState)(""),xe=Object(Rt.a)(Ce,2),Le=xe[0],Oe=xe[1];Object(n.useEffect)((function(){!function(t){var a={Search_Text:t,Start_Index:1,Page_Count:100};e.getTestDetails(a,(function(e){if(e){var t=[];P.filter((function(e){return t.push({value:e,label:e.Service_Name})})),O(t)}}))}("a"),Object.keys(e).length&&(c(e.bookingDetail),u(e.phlebotomistList),h(e.bookingDetail.Collector_Code),w(e.bookingDetail.Service_Detail),C(e.bookingDetail.Promo_Code),e.bookingDetail.Service_Detail&&e.bookingDetail.Service_Detail.length?V(e.bookingDetail.Service_Detail):V([]),oe({Promo_Code:e.bookingDetail.Promo_Code,Promo_Heading:e.bookingDetail.Promo_Heading,Offer_Percentage:e.bookingDetail.Promo_Percentage}),N(e.bookingDetail.Booking_Type_Code))}),[]);var Te=function(t){"W"!=e.bookingDetail.Booking_Type_Code?e.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:t,Pt_Code:r.Pt_Code},(function(e,a){e&&(q(a),Z(t+a.Collection_Charge))})):(q({Collection_Charge:0}),Z(t+0))};Object(n.useEffect)((function(){if(Ee(!1),""==D||null==D){var e=0;return G&&G.length&&G.forEach((function(t){t.Service_Amount?e+=t.Service_Amount:e+=t.Amount,Z(e)})),Te(e)}if(""!=D&&se.Offer_Percentage>0){Oe("Promo Applied"),me(!0);var t=0,a=0;return G&&G.length&&G.forEach((function(e){e.Service_Amount?t+=e.Service_Amount:t+=e.Amount,0==e.Suppress_Discount?e.Service_Amount?a+=Number(e.Service_Amount)*Number(se.Offer_Percentage)/100:a+=Number(e.Amount)*Number(se.Offer_Percentage)/100:a+=0,te(a),Z(t)})),Te(t-a)}}),[G,D]);var Ae=function(){var e=G;V(Object(ga.a)(e))},Me=function(){Ee(!1),C(""),oe({Availed_Times:0,Coupon_Code:"",Coupon_Desc:"",Coupon_Heading:"",Offer_Percentage:0,Offer_Times:0,Validity_ToDate:""}),me(!1),Oe("")},Pe=function(t){if(t){we(!0);var a={Labadmin_Code:e.labAdminCode,Firm_No:e.bookingDetail.Firm_No,Invoice_No:e.bookingDetail.Invoice_No,Invoice_Date:e.bookingDetail.Invoice_Date};e.viewInvoice(a,(function(e,t){if(e){var a=[];t.Message[0].InvoiceReport_Url&&a.push(t.Message[0].InvoiceReport_Url),a.forEach((function(e){return xa.a.saveAs(e)}))}we(!0)}))}else{var n={Labadmin_Code:e.labAdminCode,Firm_No:e.bookingDetail.Firm_No,Booking_Type:e.bookingDetail.Booking_Type_Code,Booking_Date:e.bookingDetail.Booking_Date,Booking_No:e.bookingDetail.Booking_No};e.viewPrescription(n,(function(e,t){if(e){var a=[];t.Message[0].Prescription_File1&&a.push(t.Message[0].Prescription_File1),t.Message[0].Prescription_File2&&a.push(t.Message[0].Prescription_File2),a.forEach((function(e){return xa.a.saveAs(e)}))}}))}};return s.a.createElement(La.a,{isOpen:!0,toggle:function(){return e.onClickClose()},size:"lg"},s.a.createElement(Oa.a,{toggle:function(){return e.onClickClose()},className:"w-100"}," ",s.a.createElement("div",{className:"d-flex w-100 justify-content-between"},s.a.createElement("div",{className:"p-2"},"View Bookings"),s.a.createElement("div",{className:"p-2 d-flex row"},s.a.createElement("div",null,e.bookingDetail.Payment_Full_Desc&&s.a.createElement("span",{className:"badge badge-pill badge-success"},e.bookingDetail.Payment_Full_Desc)),s.a.createElement("span",{className:"ml-4"},"false"!==e.bookingDetail.IsPrescription&&!1!==e.bookingDetail.IsPrescription?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:a(203),alt:"pdf",width:"20",height:"20"}),s.a.createElement("button",{className:"btn btn-link",onClick:function(){return Pe()}},"View Prescription")):null),s.a.createElement("span",{className:"ml-4 d-block"},!1!==e.bookingDetail.Invoice_Status&&"false"!==e.bookingDetail.Invoice_Status?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:a(203),alt:"pdf",width:"10",height:"10"}),s.a.createElement("button",{disabled:_e,className:"btn btn-link",onClick:function(){return Pe("invoice")}},_e?"Opening...":"View Invoice")):null)))),s.a.createElement(Ta.a,null,e.loading?s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"})))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 overflow-auto"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},s.a.createElement("div",{className:"info"},s.a.createElement("h5",{className:"title"},"BID : ",e.bookingDetail.Booking_No),e.bookingDetail.Sid_No&&e.Sid_No.trim().length?s.a.createElement("h5",{className:"title"},"SID : ",e.bookingDetail.Sid_No):null,s.a.createElement("p",{className:"desc"},e.bookingDetail.Visit_Date_Desc))),s.a.createElement("div",{className:"p-2"},s.a.createElement("div",{className:"info"},s.a.createElement("h5",{className:"title"},"Booking Date"),s.a.createElement("p",{className:"desc"},ie()(e.bookingDetail.Booking_Date).format("DD/MM/YYYY")))),s.a.createElement("div",{className:"p-2"},s.a.createElement("div",{className:"info"},s.a.createElement("h5",{className:"title"},"Schedule Date"),s.a.createElement("p",{className:"desc"},ie()(e.bookingDetail.Visit_Date).format("DD/MM/YYYY")))),s.a.createElement("div",{className:"ml-auto p-2"},s.a.createElement("div",{className:"info"},s.a.createElement("h5",{className:"title"},e.branchName?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"}),e.branchName):null)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"box_se w-100 pr-3 mb-3"},s.a.createElement("div",{className:"bg-white rounded-lg pt-3"},s.a.createElement("div",{className:"row pl-3"},s.a.createElement("div",{className:"col-sm-4 col-4 nam"},s.a.createElement("img",{width:"95",height:"95",src:e.bookingDetail.Pt_Profile_Picture?e.bookingDetail.Pt_Profile_Picture:aa.a,alt:""}),s.a.createElement("div",{className:"overflow-auto"},s.a.createElement("p",{className:"m-0 text-truncate",title:e.modalName},e.modalName),s.a.createElement("p",{className:"m-0"},"Age - ",e.bookingDetail.First_Age))),s.a.createElement("div",{className:"col-sm-8 col-8"},s.a.createElement("div",{className:"d-flex flex-row"},s.a.createElement("div",null,s.a.createElement("p",{className:"m-0"},s.a.createElement("i",{className:"far fa-mars pr-1"}),e.bookingDetail.Gender_Desc)),s.a.createElement("div",{className:"pl-3"},s.a.createElement("p",{className:"m-0"},e.bookingDetail.Mobile_No?s.a.createElement("i",{className:"far fa-mobile pr-1"}):null,e.bookingDetail.Mobile_No))),s.a.createElement("div",null,s.a.createElement("p",{className:"m-0 text-break"},e.bookingDetail.Full_Address&&s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"}),e.bookingDetail.Full_Address?"".concat(e.bookingDetail.Full_Address,", "):"")),s.a.createElement("div",null,s.a.createElement("p",{className:"text-wrap badge badge-warning mt-2 mb-3 text-truncate"},e.bookingDetail.Booking_Status_Desc)),s.a.createElement("br",null))))),s.a.createElement("div",{className:"amazon_products bg-white rounded-lg table-responsive"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Service"),s.a.createElement("th",{scope:"col"},s.a.createElement("p",{className:"mb-0 mr-4 text-color text-danger"},"Discount")),s.a.createElement("th",{scope:"col"},"Amount(Rs)"))),s.a.createElement("tbody",null,G&&G.length?G.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,1==e.Suppress_Discount?s.a.createElement("span",{style:{color:"red"}},"*"):"",e.Service_Name),s.a.createElement("td",null,ce&&e.Service_Discount>=0?0==e.Suppress_Discount&&Number(e.Service_Amount)*Number(se.Offer_Percentage)/100:0==e.Suppress_Discount&&ce?Number(e.Amount)*Number(se.Offer_Percentage)/100:""),s.a.createElement("td",null,e.Amount>0&&G&&G.length?e.Amount.toFixed(2):G&&G.length?e.Service_Amount.toFixed(2):""))})):"",s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Sample Collection Charge"),s.a.createElement("th",null),s.a.createElement("th",null,G&&G.length?Q.Collection_Charge:0)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Amount Payable"),s.a.createElement("th",null,ce&&0!==ee&&s.a.createElement("p",{className:"mb-0 mr-4 text-color text-danger"},G&&G.length?ee.toFixed(2):"")),s.a.createElement("th",null,G&&G.length?W.toFixed(2):0)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Amount Paid"),s.a.createElement("th",null),s.a.createElement("th",null,r.Paid_Amount))))),s.a.createElement("div",{className:""},s.a.createElement("div",{className:"d-flex list-inline mt-4"},s.a.createElement("label",{className:"col-form-label flex-grow-1"},s.a.createElement("h6",null,"Note : ",s.a.createElement("span",{style:{color:"red"}},"* - Indicates Non Discounted Test"))),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color text-success"}))))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Choose Phlebotomist "),s.a.createElement("div",{className:"dropdown bg-dark"},s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"selectedPhlebotomist",value:f,onChange:function(e){return h(e.target.value)}},s.a.createElement("option",{value:""},"Select Phlebotomist"),"W"!=e.bookingDetail.Booking_Type_Code&&d&&d.length&&d.map((function(e,t){return s.a.createElement("option",{key:t,value:e.Collector_Code},e.Collector_Name)}))))),ve&&Zt(f)&&"W"!==e.bookingDetail.Booking_Type_Code&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Phlebotomist is required")),s.a.createElement("h6",{className:"mt-4"},"Visit Type"),e.visitType&&e.visitType.map((function(e,t){if("L"!==e.Booking_Type_Code)return s.a.createElement("div",{key:t,className:"form-check-inline"},s.a.createElement("label",{className:"form-check-label"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"bookType",value:e.Booking_Type_Code,onChange:function(e){return N(e.target.value)},disabled:!0,checked:E===e.Booking_Type_Code}),e.Type_Of_Booking))})),s.a.createElement("div",{className:"input-group mt-4"},s.a.createElement("h6",{className:"mt-4"},"Search Test"),s.a.createElement(sa.a,{style:{width:"100%"}},s.a.createElement(va.a,{cacheOptions:!0,placeholder:"Search Test",value:"",isSearchable:!0,getOptionLabel:function(e){return e.Service_Name},getOptionValue:function(e){return e.Service_Code},loadOptions:function(){var e={Search_Text:B,Start_Index:1,Page_Count:100};return ja.post("/Fetch_Services_For_Order",e).then((function(e){return e.data.Message[0].Service_List}))},onInputChange:function(e){I(e)},onChange:function(e){var t;delete(t=e).RowNumber,De(""),void 0==G.find((function(e){return e.Service_Code==t.Service_Code}))?(V([].concat(Object(ga.a)(G),[t])),De(""),0==ce&&C("")):(De(""),0==ce&&C(""))},isDisabled:!e.bookingDetail.Is_Editable_Booking||"false"===e.bookingDetail.Is_Editable_Booking||!1===e.bookingDetail.Is_Editable_Booking})),G&&G.length?G.map((function(e,t){return s.a.createElement("button",{key:t,type:"button",className:"btn btn-sm btn-primary button-tag",onClick:function(){return function(e){var t=G;t.splice(e,1),V(Object(ga.a)(t))}(t)},style:{marginRight:"10px",marginBottom:"10px"},disabled:!!e.hasOwnProperty("item.Is_Editable_Service")&&(!e.Is_Editable_Service||!1===e.Is_Editable_Service)},e.Service_Name,s.a.createElement("span",{className:"badge badge-close"},s.a.createElement("i",{className:"far fa-times"})))})):""),ve&&Wt(G)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Select an Service to Continue")),s.a.createElement("div",{className:"input-group mt-4"},s.a.createElement("h6",{className:""},"Voucher Code"," ",s.a.createElement("span",{className:"ml-2",style:{float:"right",color:ce?"green":"red"}},Le)),s.a.createElement(fa.a,null,s.a.createElement("input",{type:"text",className:"form-control bg-transparent patient-details",placeholder:"Voucher Code",name:"promotion",onChange:function(e){C(e.target.value),Oe("")},value:D,disabled:ce}),s.a.createElement("span",{className:"fa fa-times-circle closeIcon",onClick:function(){return Me()}}),s.a.createElement(ha.a,{addonType:"append"},s.a.createElement(ba.a,{color:"secondary",onClick:function(){return function(){fe(!0);var t={Labadmin_Code:e.labAdminCode,Username:e.bookingDetail.Mobile_No,Promo_Code:D.trim()};e.getPromotiontApplyDetails(t,(function(e){"true"===e.SuccessFlag?(me(e.SuccessFlag),oe(e.Message[0]),C(e.Message[0].Coupon_Code),fe(!1),Oe("Promo Applied"),Ae()):"false"===e.SuccessFlag&&(Me(),me(!1),fe(!1),C(""),Oe("Voucher Invalid!"),Ae())}))}()}},"Apply \xa0",ge?s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"}):s.a.createElement(s.a.Fragment,null)))),ve&&D.length&&0==ce?s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Apply or Remove Coupon Code")):"")))),s.a.createElement("br",null))),s.a.createElement(Aa.a,null,(e.bookingDetail.Is_Editable_Booking||"true"===e.bookingDetail.Is_Editable_Booking||e.bookingDetail.Is_Editable_CollectorAssign||"true"===e.bookingDetail.Is_Editable_CollectorAssign)&&s.a.createElement("button",{type:"button",className:"btn btn-dark rounded mr-2",onClick:function(){return function(){if(Wt(G))Ee(!0);else if(Zt(f)&&"W"!==e.bookingDetail.Booking_Type_Code)Ee(!0);else if(D.length&&0==ce)Ee(!0);else{var t=[];G.forEach((function(e){var a=0;a=e.Service_Amount?e.Service_Amount:e.Amount;var n=0;n=e.Service_Discount?e.Service_Discount:0==e.Suppress_Discount?e.Amount/se.Offer_Percentage:0,t.push({Service_Code:e.Service_Code,Service_Discount:n,Service_Amount:a})}));var a=[];console.log(""),G.forEach((function(e){a.push({Service_Code:e.Service_Code,Service_Amount:e.Amount?e.Amount:e.Service_Amount,Service_Suppress_Discount:e.Suppress_Discount,Service_Discount:!1===e.Suppress_Discount&&se.Offer_Percentage&&e.Amount?e.Amount*se.Offer_Percentage/100:!1===e.Suppress_Discount&&se.Offer_Percentage&&e.Service_Amount?e.Service_Amount*se.Offer_Percentage/100:0})}));var n={Labadmin_Code:e.labAdminCode,Firm_No:e.bookingDetail.Firm_No,Booking_Type:E,Booking_Date:e.bookingDetail.Booking_Date,Booking_No:e.bookingDetail.Booking_No,Collector_Code:f,Service_Reg_Data:a,Promo_Code:D,Sample_Collect_Charge:Q.Collection_Charge};e.bookingUpdate(n,(function(t){"true"===t.SuccessFlag?(c(e.bookingDetail),u(e.phlebotomistList),h(e.bookingDetail.Collector_Code),w(e.bookingDetail.Service_Detail),C(e.bookingDetail.Promo_Code),V(e.bookingDetail.Service_Detail),oe({}),c({}),u([]),h(""),N(""),w([]),C(""),O({value:"",label:""}),j(T),I(""),V([]),Z(0),q({}),te(0),me(!1),fe(!1),Ee(!1),we(!1),De(""),Oe(""),Me(),e.showNotification("Success","Booking updated Successfully",Ma),e.onClickClose()):e.showNotification("Error",t.Message[0].Message,Pa)}))}}()}},"Update"),s.a.createElement("button",{type:"button",className:"btn btn-light rounded mr-2",onClick:function(){return e.onClickClose()}},"Close")))}))),Fa=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={reason:"",error:!1},e.handleChange=function(t){e.setState(Object(Tt.a)({},t.target.name,t.target.value)),e.setState({error:!1})},e.onClickSubmit=function(){e.state.reason?e.props.onCancelSubmit(e.state.reason):e.setState({error:!0})},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.state.error;return s.a.createElement(La.a,{isOpen:!0,toggle:function(){return e.props.onClickClose()},size:"lg"},s.a.createElement(Oa.a,{toggle:function(){return e.props.onClickClose()},className:"w-100"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},"Cancel Booking"))),s.a.createElement(Ta.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2 w-100"},s.a.createElement("h5",{className:"title"},"Reason : "),s.a.createElement("textarea",{className:"form-control",placeholder:"Enter reason",name:"reason",onChange:function(t){return e.handleChange(t)}}))),t&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Reason Required"))))),s.a.createElement(Aa.a,null,s.a.createElement("button",{type:"button",className:"btn btn-dark rounded mr-2",onClick:function(){return e.onClickSubmit()}},"Submit"),s.a.createElement("button",{type:"button",className:"btn btn-light rounded mr-2",onClick:function(){return e.props.onClickClose()}},"Close")))}}]),a}(n.Component),Ba=Object(l.b)(null,{})(Fa),Ia=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).onClickView=function(e,t,a,s,o,r){n.setState({showModalLoading:!0,modalName:o,branchName:r});var l={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Booking_Type:t,Firm_No:a,Booking_Date:s,Booking_No:e};n.props.getBookingDepthDetails(l,(function(e){console.log(e),n.setState({showModalLoading:!1}),e?n.setState({showViewModal:!0}):n.props.showNotification("Not found","Booking Not found",Pa)}))},n.onClickCancel=function(e,t,a,s){var o={Labadmin_Code:ut(),Booking_Type:t,Firm_No:a,Booking_Date:s,Booking_No:e};n.setState({showCancelModal:!0,cancelData:o})},n.onClickClose=function(){n.setState({showViewModal:!1,showCancelModal:!1})},n.onLoadTrue=function(){n.setState({showLoading:!0})},n.onLoadFalse=function(){n.setState({showLoading:!1})},n.onCancelSubmit=function(e){var t=Object(u.a)(Object(u.a)({},n.state.cancelData),{},{Reason:e});n.props.actionOnBooking(t,(function(e){n.setState({showCancelModal:!1}),e?(n.props.showNotification("Success","Booking cancelled successfully",Ma),n.onLoadTrue(),n.props.getBookingDetails(n.props.filterDataList,(function(e){n.onLoadFalse(),console.log("")}))):console.log("")}))},n.state={searchText:"",showViewModal:!1,showCancelModal:!1,cancelData:{},showLoading:!1,showModalLoading:!1,modalName:"",branchName:""},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.resetToInitialState(),this.setState({showLoading:!0}),this.props.getPhlebotomistDetails({},(function(t){e.setState({showLoading:!1}),console.log("")})),this.setState({showLoading:!0}),this.props.getBookingTypeDetails({},(function(t){e.setState({showLoading:!1}),console.log("")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showViewModal,n=t.showCancelModal,o=t.showLoading;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},a&&s.a.createElement(Ya,{bookingDetail:this.props.bookingDetails,phlebotomistList:this.props.phlebotomistList,visitType:this.props.bookingTypeList,testList:this.props.testList,onClickClose:function(){return e.onClickClose()},loading:this.state.showModalLoading,modalName:this.state.modalName,branchName:this.state.branchName,labAdminCode:de.a.get("userSession").Message[0].Labadmin_Code}),n&&s.a.createElement(Ba,{onClickClose:function(){return e.onClickClose()},onCancelSubmit:function(t){return e.onCancelSubmit(t)}}),s.a.createElement("div",{className:"container-fluid  "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded vh-100"},s.a.createElement("h4",null,"Booking Details"),s.a.createElement("hr",{className:"mb-3 mt-0"}),s.a.createElement(pa,{filterList:this.props.filterList,statusList:this.props.statusList,labAdminCode:de.a.get("userSession").Message[0].Labadmin_Code,onLoadTrue:this.onLoadTrue,onLoadFalse:this.onLoadFalse,bookTypeList:this.props.bookingTypeList}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"box bg-white rounded-lg "}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:" col-12 py-3 px-0"},s.a.createElement("div",{className:"d-flex flex-wrap"},o?s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"})):s.a.createElement(s.a.Fragment,null,0!==this.props.bookingsList.length?this.props.bookingsList.map((function(t,a){return s.a.createElement(na,Object.assign({key:a},t,{onClickView:function(t,a,n,s,o,r){return e.onClickView(t,a,n,s,o,r)},onCancelView:function(t,a,n,s){return e.onClickCancel(t,a,n,s)}}))})):s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement("p",{className:"align-center"},"No data found")))))))))))))}}]),a}(n.Component),(function(e){return{bookingsList:e.bookingDetailsState.bookingDetailsList,filterList:e.bookingDetailsState.bookingDetailsSearch,statusList:e.bookingDetailsState.bookingDetailsStatus,phlebotomistList:e.bookingDetailsState.phlebotomistList,bookingTypeList:e.bookingDetailsState.bookingTypeList,bookingFilterList:e.bookingDetailsState.bookingFilterList,bookingDetails:e.bookingDetailsState.bookingDetailed,testList:e.bookingDetailsState.testList,filterDataList:e.bookingDetailsState.filterDataList}}),{getPhlebotomistDetails:la,getBookingTypeDetails:ca,getBookingDepthDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Me,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:w,payload:s.Message[0]}),t(!0)):(n({type:w,payload:{}}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:w,payload:{}}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut,actionOnBooking:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(je,e);case 3:a.sent.hasOwnProperty("SuccessFlag")?t(!0):t(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},getBookingDetails:ra,resetToInitialState:Gt}),Ra=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={hasError:!1,showResponseError:!1,mobileNumber:"",username:"",showLoading:!1},e.handleChange=function(t){if("username"===t.target.name)e.setState(Object(Tt.a)({},t.target.name,t.target.value.trim("")));else if(Zt(t.target.value))e.setState({mobileNumber:t.target.value.trim("")});else{/^[0-9\b]+$/.test(t.target.value)&&e.setState(Object(Tt.a)({},t.target.name,t.target.value.trim("")))}},e.onSubmit=function(){var t=e.state,a=t.mobileNumber,n=t.username;if(Zt(n)||Zt(a))e.setState({hasError:!0});else{e.setState({showLoading:!0});var s={Username:n,Mobile_No:a};e.props.forgetPassword(s,(function(t,a){t?(e.props.showNotification("Success","Otp has been sent to your mobile number.",Ma),e.props.history.push(Nt)):(e.props.showNotification("Failed",a,Pa),e.setState({showResponseError:!0})),e.setState({showLoading:!1})}))}},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.hasError,n=t.mobileNumber,o=t.username,r=t.showLoading;return s.a.createElement(Ht,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Forget Password"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter your username",name:"username",onChange:function(t){return e.handleChange(t)},value:o}),a&&Zt(o)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid username."))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Mobile number"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter your mobile number",name:"mobileNumber",maxLength:11,onChange:function(t){return e.handleChange(t)},value:n}),a&&Zt(n)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid mobile number."))),s.a.createElement("div",{className:"d-flex justify-content-between mt-4"},s.a.createElement("button",{className:"btn btn-dark px-4",onClick:function(){return e.onSubmit()},disabled:r},"Submit",r&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})),s.a.createElement(le.b,{to:bt,className:"align-self-center"},s.a.createElement("small",null," Back to login")))))}}]),a}(n.Component),Ua=Object(l.b)(null,{forgetPassword:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ye,e);case 3:(n=a.sent).SuccessFlag?t(!0):t(!1,n&&n.Message[0]&&n.Message[0].Message),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),a.t0,t(!1,a.t0&&a.t0.Message[0]&&a.t0.Message[0].Message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))},showNotification:Ut})(Ra),Ga=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={hasError:!1,password:"",otp:"",username:"",showLoading:!1,showPassword:!1},e.handleChange=function(t){"otp"===t.target.name?e.setState(Object(Tt.a)({},t.target.name,t.target.value.trim(""))):e.setState(Object(Tt.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=e.state,a=t.username,n=t.otp,s=t.password;if(Zt(a)||Zt(s)||Zt(n))e.setState({hasError:!0});else{e.setState({showLoading:!0});var o={Username:a,OTP_Code:n,Password:s};e.props.resetPassword(o,(function(t,a){t?(e.props.showNotification("Success","Your password has been reset successfully, please login to continue.",Ma),e.props.history.push(yt)):e.props.showNotification("Error",a,Pa),e.setState({showLoading:!1})}))}},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.hasError,n=t.password,o=t.showPassword,r=t.otp,l=t.username,c=t.showLoading;return s.a.createElement(Ht,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Reset Password"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter your username",name:"username",onChange:function(t){return e.handleChange(t)},value:l}),a&&Zt(l)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid username."))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"OTP"),s.a.createElement("input",{type:"number",className:"form-control",placeholder:"Enter your otp",name:"otp",onChange:function(t){return e.handleChange(t)},value:r}),a&&Zt(r)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid OTP."))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"New Password"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:o?"text":"password",className:"form-control",placeholder:"Enter new password",name:"password",onChange:function(t){return e.handleChange(t)},value:n}),s.a.createElement("div",{className:"input-group-append",onClick:function(){return e.setState({showPassword:!e.state.showPassword})}},s.a.createElement("span",{className:"input-group-text bg-transparent"},s.a.createElement("i",{className:"fa ".concat(o?"fa-eye-slash":"fa-eye")})))),a&&Zt(n)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Enter valid password."))),s.a.createElement("div",{className:"d-flex justify-content-between mt-4"},s.a.createElement("button",{className:"btn btn-dark px-4",onClick:function(){return e.onSubmit()}},"Submit ",c&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})),s.a.createElement(le.b,{to:bt,className:"align-self-center"},s.a.createElement("small",null," Back to login")))))}}]),a}(n.Component),Va=Object(l.b)(null,{resetPassword:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(_e,e);case 3:(n=a.sent).SuccessFlag?t(!0):t(!1,n),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),a.t0,t(!1,a.t0.Message[0].Message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))},showNotification:Ut})(Ga),za=function(e){return s.a.createElement("div",{className:"box_sec w-25 px-2 mb-3"},s.a.createElement("div",{className:"amazon_products bg-white rounded-lg pt-3"},s.a.createElement("div",{className:"row pl-3"},s.a.createElement("div",{className:"col-sm-4 col-4"},s.a.createElement("img",{style:{width:"100%",height:"100px"},src:e.Pt_Profile_Picture||e.User_Image_Url||aa.a,alt:""}),s.a.createElement("p",{className:"mt-2 text-truncate",title:e.Pt_Name},e.Pt_Name),s.a.createElement("p",{className:"mt-2"},"Age - ",e.Pt_First_Age)),s.a.createElement("div",{className:"col-sm-8 col-8"},s.a.createElement("div",{className:"d-flex flex-row"},s.a.createElement("div",null,s.a.createElement("p",{className:"m-0"},s.a.createElement("i",{className:"far fa-mars pr-1"}),e.Pt_Gender)),s.a.createElement("div",{className:"pl-3"},s.a.createElement("p",{className:"m-0"},s.a.createElement("i",{className:"far fa-mobile pr-1"}),e.Pt_Mobile_No))),s.a.createElement("p",{className:"m-0 pt-2"},e.Pt_Location&&s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"})," `$",e.Pt_Location,", `"),s.a.createElement("br",null),e.Street?"".concat(e.Street,", "):""),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"btn btn-dark rounded mr-2"},s.a.createElement(le.b,{style:{textDecoration:"none"},className:"text-white",to:{pathname:St,state:{patientCode:e.Pt_Code,User_Login_Name:e.User_Login_Name}}},"Book"))))))},Ha=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t;if("searchFieldCode"===e.target.name)n.setState((t={},Object(Tt.a)(t,e.target.name,e.target.value),Object(Tt.a)(t,"searchText",""),t));else if("PM"===n.state.searchFieldCode){(/^[0-9\b]+$/.test(e.target.value)||""===e.target.value)&&n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim("")))}else n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.onClickSubmit=function(){var e=n.state,t=e.searchFieldCode,a=e.searchText,s={Labadmin_Code:ut(),Search_Text:a||"",Search_Field_Code:t};a?(n.setState({searching:!0}),n.props.getTestListDetails(s,(function(e){n.props.onLoadFalse(),console.log(""),n.setState({searching:!1})}))):n.props.showNotification("Warning","Please enter search text","warning")},n.state={searchText:"",searchFieldCode:"PI",searching:!1},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoadTrue();this.props.getTestSearchDetails({Search_Type_Code:"P"},(function(t){e.props.onLoadFalse(),console.log("")}))}},{key:"render",value:function(){var e=this,t=this.state.searchText;return s.a.createElement("div",{className:"filter-product  bg-dark p-4 "},s.a.createElement("div",{className:"row col-sm-12"},s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:"d-flex flex-row "},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Filter"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"searchFieldCode",onChange:function(t){return e.handleChange(t)}},this.props.filterList?this.props.filterList.map((function(e,t){return s.a.createElement("option",{value:e.Filter_Code,key:t},e.Filter_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm"},s.a.createElement("h6",null,"Search"),s.a.createElement("input",{type:"text",className:"form-control form-search border-0",placeholder:"Search by PID, Name, Mobile",title:"Search by PID, Name, Mobile",id:"form-search",value:t,name:"searchText",onChange:function(t){return e.handleChange(t)}})),s.a.createElement("div",{className:"col-sm-4 col-md-6 col-lg-1 d-flex align-self-center"},s.a.createElement("div",{className:"form-group m-0 mt-2"},s.a.createElement("button",{disabled:this.state.searching,className:"btn btn-sm btn-primary br-5",onClick:function(){return e.onClickSubmit()}},this.state.searching?s.a.createElement(Xt.a,{size:"sm"}):"Search")))))}}]),a}(n.Component),Wa=Object(l.b)(null,{getTestSearchDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(De,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:b,payload:s.Message[0].Filter_Type_List}),t(!0)):(n({type:b,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:b,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getTestListDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Le,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:E,payload:s.Message[0].Patient_Detail}),t(!0)):(n({type:E,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:E,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut})(Ha),Za=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={showLoading:!1},e.componentDidMount=function(){e.props.resetToInitialState()},e.onLoadTrue=function(){e.setState({showLoading:!0})},e.onLoadFalse=function(){e.setState({showLoading:!1})},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this.state.showLoading;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid  "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("div",{className:"d-flex justify-content-between mb-2"},s.a.createElement("h4",null,"Book Test"),s.a.createElement(le.b,{to:Dt},s.a.createElement("button",{className:"btn btn-sm btn-success br-5"},"Register New Patient"))),s.a.createElement(Wa,{filterList:this.props.filterList,onLoadTrue:this.onLoadTrue,onLoadFalse:this.onLoadFalse}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"box bg-white rounded-lg "}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:" col-12 p-3"},s.a.createElement("div",{className:"d-flex flex-wrap mr-n4 ml-n3 "},e?s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"}):s.a.createElement(s.a.Fragment,null,0!==this.props.bookTestList.length?this.props.bookTestList.map((function(e,t){return s.a.createElement(za,Object.assign({key:t},e))})):s.a.createElement("p",{className:"align-center"},"No data found"))))))))))))}}]),a}(n.Component),(function(e){return{bookTestList:e.bookTestState.bookTestList,filterList:e.bookTestState.bookTestFilter}}),{resetToInitialState:Gt}),Xa=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modal fade show d-block"},s.a.createElement("div",{className:"modal-dialog w-100",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},"Cancel Booking")),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.onClickClose()}},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"}," ",s.a.createElement("div",{className:"info"},s.a.createElement("h5",{className:"title"},this.props.message)))),s.a.createElement("button",{type:"button",className:"btn btn-light rounded mr-2",onClick:function(){return e.props.onClickClose()}},"Close")))))))}}]),a}(n.Component),Ja=Object(l.b)(null,{})(Xa),Qa=a(267),qa=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).handleChange=function(e){if("mobileNo"!==e.target.name&&"pin"!==e.target.name)"addressType"===e.target.name?(n.setState(Object(Tt.a)({},e.target.name,e.target.value)),n.state.mobileNo.trim().length&&""!==e.target.value?n.props.getUserAddressListDetails({Labadmin_Code:ut(),UserName:n.state.mobileNo,Address_Type_code:e.target.value},(function(){n.props.patientAddressList&&n.props.patientAddressList[0]?n.setState({street:n.props.patientAddressList[0].Street,place:n.props.patientAddressList[0].Place,city:n.props.patientAddressList[0].City,pin:n.props.patientAddressList[0].PinCode,landMark:n.props.patientAddressList[0].Landmark,state:n.props.patientAddressList[0].State}):n.setState({street:"",place:"",city:"",pin:"",landMark:"",state:""})})):n.setState({street:"",place:"",city:"",pin:"",landMark:"",state:""})):n.setState(Object(Tt.a)({},e.target.name,e.target.value));else if(Zt(e.target.value))n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim("")));else{/^[0-9\b]+$/.test(e.target.value)&&n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim("")))}},n.handleNumberChange=function(e){e&&e.Pt_Code?n.props.getNonLinkPatientDetails({Labadmin_Code:ut(),Pt_Code:e.Pt_Code.trim()},(function(t,a){t&&n.setState({patientSelected:!0,Pt_Code:e.Pt_Code.trim(),mobileNo:a.Message[0].Mobile_No,linkCode:a.Message[0].Patient_Code,ptName:a.Message[0].Patient_Name,ptEmail:a.Message[0].Email_Id,dob:ie()(a.Message[0].DOB).format("YYYY-MM-DD"),gender:a.Message[0].Gender_Code,street:a.Message[0].Street,place:a.Message[0].Place,city:a.Message[0].City,pin:a.Message[0].PinCode,country:a.Message[0].Country})})):n.setState({mobileNo:e&&e.value||"",ptName:"",ptEmail:"",dob:ie()(new Date).format("YYYY-MM-DD"),gender:"",relationshipCode:"",addressType:"",street:"",place:"",city:"",pin:"",country:"",hasError:!1,showModal:!1,responseMessage:"",showLoading:!1,state:"",landMark:"",linkCode:"",patientSelected:!1,code:""})},n.promiseOptions=function(e){return n.setState({code:""}),new Promise(e?function(t){n.props.searchPatients({Labadmin_Code:ut(),Mobile_No:e},(function(e,a){if(e){var n=a.Message[0]&&a.Message[0].Patient_Detail||[];return n.forEach((function(e){var t=e.Pt_Mobile_No.trim()+" - "+e.Pt_Name.trim();e.label=t,e.value=e.Pt_Code.trim()})),t(n)}return t([])}))}:function(e){return e([])})},n.onClickSubmit=function(){var e={Mobile_No:n.state.mobileNo,Pt_Name:n.state.ptName,Dob:ie()(n.state.dob).format("YYYY/MM/DD"),Gender:n.state.gender,Relationship_Code:n.state.relationshipCode,Address_Type:n.state.addressType,Street:n.state.street,Place:n.state.place,City:n.state.city,Pin:n.state.pin,Country:n.state.country,State:n.state.state,Land_Mark:n.state.landMark};""!==n.state.linkCode.trim()&&(e.Link_Pt_Code=n.state.linkCode.trim()),""!==n.state.ptEmail&&(e.Email_Id=n.state.ptEmail),Zt(n.state.mobileNo)||Zt(n.state.ptName)||Zt(n.state.gender)||Zt(n.state.relationshipCode)||Zt(n.state.addressType)||Zt(n.state.street)||Zt(n.state.place)||Zt(n.state.city)||Zt(n.state.pin)?(n.setState({hasError:!0}),n.props.showNotification("Error","Please fill out mandatory fields.",Pa)):1==n.state.patientSelected&&0==n.state.otpVerified?(n.setState({hasError:!0}),n.props.showNotification("Error","Please verify the OTP.",Pa)):(n.setState({showLoading:!0}),n.props.addPatient(e,(function(e){n.setState({showLoading:!1}),e&&e.SuccessFlag&&"false"!==e.SuccessFlag?(n.setState({mobileNo:"",ptName:"",ptEmail:"",dob:ie()(new Date).format("YYYY-MM-DD"),gender:"",relationshipCode:"",addressType:"",street:"",place:"",city:"",pin:"",country:"",hasError:!1,showModal:!1,responseMessage:"",showLoading:!1,state:"",landMark:"",linkCode:"",selectPatientMobileNumber:""}),n.props.showNotification("Success","Patient added successfully",Ma),setTimeout((function(){window.location.reload()}),5e3)):n.props.showNotification("Error",e.Message[0].Message,Pa)})))},n.handleSendOtp=function(){var e={Labadmin_Code:ut(),UserName:n.state.mobileNo,MobileNo:n.state.mobileNo,PtCode:n.state.linkCode.trim()};n.props.getPatientOtp(e,(function(t){console.log(t),console.log(e),"true"==t.SuccessFlag?n.props.showNotification("Success","OTP sent successfully",Ma):n.props.showNotification("Error",t.Message,Pa)}))},n.handleVerifyOtp=function(){var e={Labadmin_Code:ut(),UserName:n.state.mobileNo,PtCode:n.state.linkCode.trim(),OtpCode:de.a.get("otp")&&de.a.get("otp").Message[0].OtpCode};n.state.code&&n.state.code.trim()&&0===n.state.code.length&&n.props.showNotification("Error","OTP missing",Pa),n.props.getOtpVerification(e,(function(e){console.log("verifyyyying"),console.log(e),e&&(console.log(de.a.get("otp").Message[0].OtpCode),n.state.code===de.a.get("otp").Message[0].OtpCode?(n.props.showNotification("Success","OTP Successfully verified",Ma),n.setState({otpVerified:!0}),n.setState({code:""}),n.setState({patientSelected:!1}),de.a.remove("otp")):(n.props.showNotification("Error","Invalid OTP",Pa),n.setState({otpVerified:!1}),n.setState({code:""}),n.setState({patientSelected:!0})))}))},n.onClickClose=function(){n.setState({showModal:!1})},n.state={mobileNo:"",ptName:"",ptEmail:"",dob:ie()(new Date).format("YYYY-MM-DD"),gender:"",relationshipCode:"",addressType:"",street:"",place:"",city:"",pin:"",country:"",hasError:!1,showModal:!1,responseMessage:"",showLoading:!1,state:"",landMark:"",linkCode:"",Pt_Code:0,code:"",patientSelected:!1,otpVerified:!1},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getGenderDetails({},(function(t){e.setState({showLoading:!1}),console.log("")})),this.props.getAddressTypeDetails({},(function(t){e.setState({showLoading:!1}),console.log("")})),this.props.getPatientRelationshipDetails({},(function(t){e.setState({showLoading:!1}),console.log("")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.dob,n=t.showModal;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid  "},s.a.createElement("div",{className:"row"},n&&s.a.createElement(Ja,{onClickClose:function(){return e.onClickClose()},message:this.state.responseMessage}),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h4",{className:"float-left"},"Registration"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("hr",{className:"mb-3 mt-0 "}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"Registered Mobile Number"),s.a.createElement(Qa.a,{cacheOptions:!0,defaultOptions:!0,isClearable:!0,loadOptions:this.promiseOptions,onChange:this.handleNumberChange,placeholder:"Enter Mobile Number",value:this.state.selectPatientMobileNumber}))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"Name"),s.a.createElement("input",{type:"text",className:"form-control",name:"ptName",placeholder:"Enter Name",value:this.state.ptName,onChange:function(t){return e.handleChange(t)}}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,s.a.createElement("span",{className:"text-danger"}," * "),"Date of Birth"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"dob",value:a,onChange:function(t){return e.setState({dob:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})},maxDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,s.a.createElement("span",{className:"text-danger"}," * "),"Gender"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",placeholder:"Select",name:"gender",value:this.state.gender,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"Select Gender"),this.props.genderList&&this.props.genderList.map((function(e,t){return s.a.createElement("option",{value:e.Gender_Code,key:t},e.Gender_Desc)}))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},"Email",s.a.createElement("span",{className:"text-muted fs-13"}," (optional) ")),s.a.createElement("input",{type:"text",className:"form-control",name:"ptEmail",placeholder:"Enter Email",value:this.state.ptEmail,onChange:function(t){return e.handleChange(t)}})))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,s.a.createElement("span",{className:"text-danger"}," * "),"Patient Relation"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",placeholder:"Select",name:"relationshipCode",value:this.state.relationshipCode,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"Select Relationship"),this.props.patientRelationshipList&&this.props.patientRelationshipList.map((function(e,t){return s.a.createElement("option",{value:e.RelationShip_Code,key:t},e.RelationShip_Desc)})))))))),s.a.createElement("div",{className:"col-sm-6"},"")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h4",{className:"float-left"},"Address")),s.a.createElement("hr",{className:"mb-3 mt-0"}),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("hr",{className:"mb-3 mt-0 "}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,s.a.createElement("span",{className:"text-danger"}," * "),"Address Type"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",placeholder:"Select",name:"addressType",value:this.state.addressType,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"Select Address Type"),this.props.addressTypeList&&this.props.addressTypeList.map((function(e,t){return s.a.createElement("option",{value:e.Address_Type_Code,key:t},e.Address_Type_Desc)})))))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"Street"),s.a.createElement("input",{type:"text",className:"form-control",name:"street",placeholder:"Enter Street",value:this.state.street,onChange:function(t){return e.handleChange(t)}})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"Place"),s.a.createElement("input",{type:"text",className:"form-control",name:"place",placeholder:"Enter Place",value:this.state.place,onChange:function(t){return e.handleChange(t)}})))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"City"),s.a.createElement("input",{type:"text",className:"form-control",name:"city",placeholder:"Enter City",value:this.state.city,onChange:function(t){return e.handleChange(t)}})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},"State"),s.a.createElement("input",{type:"text",className:"form-control",name:"state",placeholder:"Enter State",value:this.state.state,onChange:function(t){return e.handleChange(t)}}))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"Pin Code"),s.a.createElement("input",{type:"text",className:"form-control",name:"pin",placeholder:"Enter Pin Code",value:this.state.pin,onChange:function(t){return e.handleChange(t)}})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},"Landmark"),s.a.createElement("input",{type:"text",className:"form-control",name:"landMark",placeholder:"Enter Landmark",value:this.state.landMark,onChange:function(t){return e.handleChange(t)}}))),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},"Country"),s.a.createElement("input",{type:"text",className:"form-control",name:"country",placeholder:"Enter country",value:this.state.country,onChange:function(t){return e.handleChange(t)}})))),this.state.patientSelected?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"col-form-label"},s.a.createElement("span",{className:"text-danger"}," * "),"OTP"),s.a.createElement("input",{type:"text",className:"form-control",name:"place",placeholder:"Enter OTP",onChange:function(t){e.setState({code:t.target.value})},value:this.state.code})))),console.log(this.state.code),this.state.code&&this.state.code.trim()&&this.state.code.length>0?s.a.createElement("div",{className:"col-6 align-self-center"},s.a.createElement("button",{className:"btn btn-light mt-3",onClick:function(){return e.handleVerifyOtp()}},"Verify OTP")):s.a.createElement("div",{className:"col-6 align-self-center"},s.a.createElement("button",{className:"btn btn-light mt-3",onClick:function(){return e.handleSendOtp()}},"Send OTP")))):""),s.a.createElement("div",{className:"col-sm-6"},""))))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{type:"button",className:"btn btn-info mr-2","data-dismiss":"modal",onClick:this.onClickSubmit},"REGISTER",this.state.showLoading&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})),s.a.createElement(le.b,{to:wt,className:"btn btn-danger"},"CANCEL"))))))}}]),a}(n.Component),(function(e){return{genderList:e.bookTestState.genderList,patientRelationshipList:e.bookTestState.patientRelationshipList,addressTypeList:e.bookTestState.addressTypeList,filterList:e.bookTestState.bookTestFilter,patientAddressList:e.bookTestState.userAddressList}}),{getGenderDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ye,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:k,payload:s.Message}),t(!0)):(n({type:k,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:k,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getAddressTypeDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Be,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:C,payload:s.Message}),t(!0)):(n({type:C,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:C,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getPatientRelationshipDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Fe,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:x,payload:s.Message}),t(!0)):(n({type:x,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:x,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},addPatient:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ie,e);case 3:n=a.sent,t(n),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},getPatientOtp:function(e,t){return console.log("opt in"),function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("async"),a.prev=1,console.log("try"),a.next=5,It.post(it,e);case 5:s=a.sent,console.log(s),200===s.Code?(console.log("hello otp"),t(s),de.a.set("otp",s),n({type:H,payload:s.Message[0]})):console.log("wrong"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t(a.t0.Message[0]);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},getOtpVerification:function(e,t){return console.log("opt in"),function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("async"),a.prev=1,console.log("try"),a.next=5,It.post(mt,e);case 5:s=a.sent,console.log(s),200===s.Code?(console.log("hello otp"),t(!0,s.Message[0]),n({type:H,payload:s.Message[0]})):console.log("wrong"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log("errrrrorrrrrr verify"),t(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut,getUserAddressListDetails:ya,searchPatients:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ze,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(!0,n):t(!1,n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1,a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))},getNonLinkPatientDetails:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Xe,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(!0,n):t(!1,n.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1,a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))}}),Ka=function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s,o,r;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ae,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(o=s.Message[0].Booking_List,r=[],o.forEach((function(e){var t=e;t.isOpen=!1,r.push(t)})),n({type:v,payload:r}),t(!0)):(n({type:v,payload:[]}),t(!1)),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:v,payload:[]}),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},$a=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){clearInterval(n.state.intervalId)},n.handleChange=function(e){"searchText"===e.target.name&&"BI"===n.state.selectedSearchBy?(n.setState(Object(Tt.a)({},e.target.name,e.target.value.trim())),"searchText"!==e.target.name&&"selectedFilter"!==e.target.name&&n.setState({searchText:""})):(n.setState(Object(Tt.a)({},e.target.name,e.target.value)),"searchText"!==e.target.name&&"selectedFilter"!==e.target.name&&n.setState({searchText:""}))},n.getList=function(){var e=setInterval((function(){n.getTrackingList()}),1e4);n.setState({intervalId:e})},n.getTrackingList=function(){var e=n.state,t=e.searchText,a=e.labAdminCode,s=e.selectedFilter,o=e.selectedSearchBy;n.props.setShowLoading(!0),n.setState({showLoading:!0});var r={Labadmin_Code:a};Zt(t)||(r.Search_Text=t.trim()),Zt(s)||(r.Booking_Status_Code=s),Zt(o)||(r.Search_Field_Code=o),n.props.getTrackingList(r,(function(e){n.props.setShowLoading(!1),n.setState({showLoading:!1}),console.log("")}))},n.state={searchText:"",selectedSearchBy:"",selectedFilter:"",showLoading:!1,labAdminCode:de.a.get("userSession").Message[0].Labadmin_Code,searchByList:[],filterList:[],intervalId:null},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.setShowLoading(!0);this.props.getSearchFilters({Search_Type_Code:"H"},(function(t,a){t&&(e.setState({searchByList:a}),e.getList())}));this.props.getSearchFilters({Search_Type_Code:"T"},(function(t,a){t&&e.setState({filterList:a})})),this.getTrackingList()}},{key:"render",value:function(){var e=this,t=this.state.searchText;return s.a.createElement("div",{className:"filter-product  bg-dark p-4 "},s.a.createElement("div",{className:"row col-sm-12 mr-0"},s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:"d-flex flex-row "},s.a.createElement("div",{className:"dropdown-filter w-100"},s.a.createElement("h6",null,"Search By"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"selectedSearchBy",value:this.state.selectedSearchBy,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.state.searchByList&&this.state.searchByList.map((function(e,t){return s.a.createElement("option",{value:e.Filter_Code,key:t},e.Filter_Desc)}))))))),s.a.createElement("div",{className:"col-sm"},s.a.createElement("h6",null,"Search"),s.a.createElement("input",{type:"text",className:"form-control form-search border-0",placeholder:"Search by Patient Name, Phlebotomist, Booking Id",id:"form-search",value:t,name:"searchText",onChange:function(t){return e.handleChange(t)},disabled:Zt(this.state.selectedSearchBy)})),s.a.createElement("div",{className:"col-sm"},s.a.createElement("div",{className:"d-flex flex-row "},s.a.createElement("div",{className:"dropdown-filter w-100"},s.a.createElement("h6",null,"Filter"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"selectedFilter",value:this.state.selectedFilter,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.state.filterList&&this.state.filterList.map((function(e,t){return s.a.createElement("option",{value:e.Filter_Code,key:t},e.Filter_Desc)}))))))),s.a.createElement("div",{className:"col-sm-2 col-md-6 col-lg-1 d-flex align-self-center"},s.a.createElement("div",{className:"form-group m-0 mt-2"},s.a.createElement("button",{className:"btn btn-sm btn-primary br-5",onClick:function(){return e.getTrackingList()},disabled:this.state.showLoading},"Search")))))}}]),a}(n.Component),en=Object(l.b)(null,{getSearchFilters:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ke,e);case 3:(n=a.sent).hasOwnProperty("SuccessFlag")?t(!0,n.Message[0].Filter_Type_List):t(!1),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),a.t0,t(!1);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))},getTrackingList:Ka})($a),tn=a(54),an=function(e){var t=e.item,a=e.index,n=e.onClickPhelotomist;return s.a.createElement("div",{className:"data-filter ".concat(t.Collector_Latitude&&t.Collector_Longitude?"":"disabled"),style:{cursor:t.Collector_Latitude&&t.Collector_Longitude?"pointer":""},onClick:function(){return n(a)}},s.a.createElement("ul",{className:"list-group",style:{borderLeft:"3px solid ".concat(t.Booking_Status_Color_Code)}},s.a.createElement("li",{className:" list-group-item d-flex justify-content-between align-items-center"},t.Collector_Name,s.a.createElement("span",{className:"badge"},t.Booking_No)),s.a.createElement("li",{className:"list-group-item"},t.Collector_Mobile_No),s.a.createElement("li",{className:"list-group-item data-active d-flex justify-content-between align-items-center overflow-auto"},"Patient Info",s.a.createElement("span",{className:"badge"},t.Pt_Name,", ",t.Pt_First_Age,", ","F"===t.Pt_Gender?"Female":"Male"))))},nn=Object(tn.withScriptjs)(Object(tn.withGoogleMap)((function(e){return s.a.createElement(tn.GoogleMap,{defaultZoom:8,defaultCenter:e.defaultDelta,center:e.defaultDelta},e.trackingList&&e.trackingList.map((function(t,n){return s.a.createElement(tn.Marker,{icon:a(553),key:n,position:{lat:parseFloat(t.Collector_Latitude),lng:parseFloat(t.Collector_Longitude)},onClick:function(){return e.handleToggleInfoBox(n)}},t.isOpen&&s.a.createElement(tn.InfoWindow,{onCloseClick:function(){return e.handleToggleInfoBox(n)}},s.a.createElement(an,{dark:!0,item:t,index:n,key:n,onClickPhelotomist:function(t){return e.onClickPhelotomist(t)}})))})))}))),sn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(nn,{isMarkerShown:!0,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBA95X58xYmj0DNs4K5yX2VkA5EoUuqGRo","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"600px"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),trackingList:this.props.trackingList,handleToggleInfoBox:function(t){return e.props.handleToggleInfoBox(t)},onClickPhelotomist:function(t){return e.props.onClickPhelotomist(t)},defaultDelta:this.props.defaultDelta&&Object.keys(this.props.defaultDelta).length?this.props.defaultDelta:{lat:parseFloat(this.props.trackingList.length?this.props.trackingList[0].Collector_Latitude:"27.7172"),lng:parseFloat(this.props.trackingList.length?this.props.trackingList[0].Collector_Longitude:"85.3240")}})}}]),a}(n.Component),on=Object(l.b)((function(e){return{trackingList:e.trackingState.trackingList}}),null)(sn),rn=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={defaultDelta:{},showLoading:!1},e.componentDidMount=function(){},e.handleToggleInfoBox=function(t){var a=e.props.trackingList,n=[];a.forEach((function(e,a){var s=e;s.isOpen=t===a&&!s.isOpen,n.push(s)})),e.props.dispatchTrackingList(JSON.parse(JSON.stringify(n)))},e.onClickPhelotomist=function(t){var a=e.props.trackingList,n=[];if(a.forEach((function(e,a){var s=e;s.isOpen=t===a,n.push(s)})),a[t].Collector_Latitude&&a[t].Collector_Longitude){e.props.dispatchTrackingList(JSON.parse(JSON.stringify(n)));var s={lat:parseFloat(a[t].Collector_Latitude),lng:parseFloat(a[t].Collector_Longitude)};e.setState({defaultDelta:s})}else a.forEach((function(t){var a=t;a.isOpen=!1,n.push(a),e.props.dispatchTrackingList(JSON.parse(JSON.stringify(n)))}))},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.props.trackingList;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"bg-white"},s.a.createElement("div",{className:"d-flex justify-content-between mb-2"},s.a.createElement("h4",null,"Tracking")),s.a.createElement(en,{filterList:this.props.filterList,setShowLoading:function(t){return e.setState({showLoading:t})}}),s.a.createElement("div",{className:"d-sm-flex  flex-wrap bg-dark p-2"},s.a.createElement("div",{className:"w-75 pr-3 mb-3 py-2 mob-full-width"},s.a.createElement("div",{className:"h-iframe"},s.a.createElement(on,{handleToggleInfoBox:function(t){return e.handleToggleInfoBox(t)},defaultDelta:this.state.defaultDelta,onClickPhelotomist:function(t){return e.onClickPhelotomist(t)}}))),s.a.createElement("div",{className:"w-25  device-width py-2"},s.a.createElement("h6",null,"Phlebotomist"),s.a.createElement("div",{className:"filter-option overflow-auto"},t.map((function(t,a){return s.a.createElement(an,{item:t,index:a,key:a,onClickPhelotomist:function(t){return e.onClickPhelotomist(t)}})})),t.length?null:this.state.showLoading?s.a.createElement(Xt.a,{size:"sm"}):s.a.createElement("p",null,"No data found.")))))))))}}]),a}(n.Component),(function(e){return{trackingList:e.trackingState.trackingList}}),{getTrackingList:Ka,dispatchTrackingList:function(e){return function(){var t=Object(Pt.a)(Mt.a.mark((function t(a){return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:v,payload:e})}catch(n){a({type:v,payload:[]})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ln=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-xl-4 col-md-6 mb-4"},s.a.createElement("div",{className:"card p-2 border-0 h-100"},s.a.createElement("div",{className:"d-flex justify-content-between card-header bg-white"},s.a.createElement("p",{className:"font-weight-bold overflow-auto m-0"},this.props.Promotion_Name),s.a.createElement("div",{onClick:function(){return e.props.fillValues()},style:{cursor:"pointer"}},s.a.createElement("i",{className:"far fa-edit pl-2"}))),s.a.createElement("div",{className:"card-body mt-2 p-2"},s.a.createElement("div",{className:"row no-gutters align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("p",{className:"mb-1"},"Starts on ",this.props.Start_Date),s.a.createElement("p",null,"Ends on ",this.props.End_Date)),s.a.createElement("div",{className:"col-auto"},s.a.createElement("h4",null,s.a.createElement("span",{className:"badge badge-primary bg-white font-weight-normal"},this.props.Promo_Code))),s.a.createElement("div",{className:"col-12"},s.a.createElement("p",null,this.props.Promotion_Description))))))}}]),a}(n.Component),cn=a(198),mn=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).getPromotiontDetails=function(){n.setState({showLoading:!0});var e={Labadmin_Code:ut()};n.props.getPromotiontDetails(e,(function(e){n.setState({showLoading:!1}),console.log("")}))},n.handleChange=function(e){if("discountPercent"!==e.target.name&&"offerCode"!==e.target.name)n.setState(Object(Tt.a)({},e.target.name,e.target.value));else if("discountPercent"!==e.target.name&&"offerCode"===e.target.name)n.setState(Object(Tt.a)({},e.target.name,e.target.value.replace(/\s/g,"")));else{(/^[0-9\b]+$/.test(e.target.value)||""===e.target.value)&&n.setState(Object(Tt.a)({},e.target.name,e.target.value))}},n.onClickSubmit=function(){if(Zt(n.state.promotionName)||Zt(String(n.state.discountPercent))||Zt(n.state.startDate)||Zt(n.state.endDate)||Zt(n.state.description)||Zt(String(n.state.offerTimes))||Zt(n.state.offerCode))n.setState({hasError:!0});else{var e={Labadmin_Code:ut(),Promotion_Name:n.state.promotionName,Promotion_Description:n.state.description,Promo_Code:n.state.offerCode,Offer_Times:Number(n.state.offerTimes),Discount_In_Percent:n.state.discountPercent,Start_Date:ie()(n.state.startDate).format("YYYY/MM/DD"),End_Date:ie()(n.state.endDate).format("YYYY/MM/DD")};n.setState({showLoadingOnClick:!0}),n.state.isEdit?(e.Inactive=n.state.inActive,n.props.modifyPromotion(e,(function(e,t){n.setState({showLoadingOnClick:!1}),!0===e?(n.props.showNotification("Success","Promotion updated successfully",Ma),n.setState({hasError:!1,showLoading:!1,promotionName:"",discountPercent:"",startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),description:"",offerCode:"",offerTimes:"",showToast:!0,errorMsg:"",inActive:!1,showLoadingOnClick:!1,isEdit:!1}),n.getPromotiontDetails()):n.props.showNotification("Error",t,Pa)}))):n.props.addPromotion(e,(function(e,t){n.setState({showLoadingOnClick:!1}),!0===e?(n.props.showNotification("Success","Promotion created successfully",Ma),n.setState({hasError:!1,showLoading:!1,promotionName:"",discountPercent:"",startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),description:"",offerTimes:"",offerCode:"",showToast:!0,isEdit:!1,errorMsg:"",showLoadingOnClick:!1,inActive:!1}),n.getPromotiontDetails()):n.props.showNotification("Error",t,Pa)}))}},n.executeScroll=function(){return n.myRef.current.scrollIntoView()},n.fillValuesToFields=function(e){n.executeScroll(),n.setState({showInActiveInput:!0,isEdit:!0,promotionName:e.Promotion_Name,discountPercent:e.Discount_In_Percent,startDate:e.Start_Date?ie()(e.Start_Date,"DD/MM/YYYY").format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD"),endDate:e.End_Date?ie()(e.End_Date,"DD/MM/YYYY").format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD"),description:e.Promotion_Description,offerCode:e.Promo_Code,offerTimes:e.Offer_Times,inActive:e.Inactive})},n.myRef=s.a.createRef(),n.state={hasError:!1,showLoading:!1,promotionName:"",discountPercent:"",startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),description:"",offerCode:"",offerTimes:"",showToast:!0,errorMsg:"",showLoadingOnClick:!1,showInActiveInput:!1,isEdit:!1,inActive:!1},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){this.props.resetToInitialState(),this.getPromotiontDetails()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-9"},s.a.createElement("h4",{className:"float-left",ref:this.myRef},"Promotions"))),s.a.createElement("hr",{className:"mb-3 mt-0"}),s.a.createElement("div",{className:"filter-product  bg-dark p-4 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card-body py-1"},s.a.createElement("h5",{className:"text-black pb-2"},this.state.isEdit?"Edit":"Add"," Promotion"),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-lg-6 col-sm-6"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Promotion Name"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Promotion Name",value:this.state.promotionName,name:"promotionName",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&Zt(this.state.promotionName)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"promotion name is required")))),s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Discount %"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Discount %",value:this.state.discountPercent,name:"discountPercent",onChange:function(t){return e.handleChange(t)},maxLength:3}),this.state.hasError&&Zt(this.state.discountPercent)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"discount percent is required")))),s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Start Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"startDate",value:this.state.startDate,onChange:function(t){e.setState({startDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")},(function(){ie()(t).isAfter(e.state.endDate)&&e.setState({endDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})}))},minDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1}),this.state.hasError&&Zt(this.state.startDate)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"start date is required"))))),s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"End Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"endDate",value:this.state.endDate,onChange:function(t){return e.setState({endDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(e.state.startDate).format("YYYY-MM-DD")})},minDate:ie()(this.state.startDate).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1}),this.state.hasError&&Zt(this.state.endDate)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"end date is required")))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-lg-6 col-sm-6"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Description"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Description",value:this.state.description,name:"description",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&Zt(this.state.description)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"description is required")))),s.a.createElement("div",{className:"col-lg-3 col-sm-3"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Offer Code"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Offer Code",value:this.state.offerCode,name:"offerCode",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&Zt(this.state.offerCode)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"offer code is required")))),s.a.createElement("div",{className:"col-lg-3 col-sm-3"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Offer Times"),s.a.createElement("input",{type:"number",className:"form-control bg-transparent form-control-border",placeholder:"No.of Offer Times",value:this.state.offerTimes,name:"offerTimes",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&Zt(this.state.offerCode)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"offer times is required")))),s.a.createElement("div",{className:"col-sm d-flex align-items-center justify-content-end"},this.state.showInActiveInput&&this.state.isEdit&&s.a.createElement(sa.a,{check:!0,className:"mt-2"},s.a.createElement(cn.a,{check:!0},s.a.createElement(oa.a,{type:"checkbox",name:"inActive",checked:this.state.inActive,onChange:function(t){return e.setState({inActive:t.target.checked})}})," ","Inactive")),s.a.createElement("div",{className:"mt-3 d-flex justify-content-end ml-4"},s.a.createElement("button",{className:"btn btn-sm btn-primary mb-1 mr-2",disabled:this.state.showLoadingOnClick,onClick:function(){return e.onClickSubmit()}},this.state.isEdit?"Update":"Submit",this.state.showLoadingOnClick&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})),this.state.isEdit&&s.a.createElement("button",{className:"btn btn-sm btn-secondary mb-1",disabled:this.state.showLoadingOnClick,onClick:function(){e.setState({hasError:!1,showLoading:!1,promotionName:"",discountPercent:"",startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),description:"",offerCode:"",showToast:!0,errorMsg:"",inActive:!1,showLoadingOnClick:!1,offerTimes:"",isEdit:!1})}},"Cancel")))),s.a.createElement("div",{className:"row  col-12 mt-3 pt-4"},this.state.errorMsg&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.state.errorMsg))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"text-black pb-3"},"Promotions"),s.a.createElement("div",{className:"row"},this.state.showLoading?s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"})):s.a.createElement(s.a.Fragment,null,this.props.promotionList&&this.props.promotionList.map((function(t,a){return s.a.createElement(ln,Object.assign({key:a},t,{fillValues:function(){return e.fillValuesToFields(t)}}))}))))))))))))}}]),a}(n.Component),(function(e){return{promotionList:e.bookTestState.promotionList}}),{addPromotion:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ze,e);case 3:!1!==(s=a.sent).SuccessFlag&&"False"!==s.SuccessFlag?(n({type:A,payload:s.Message[0].Promotion_List}),t(!0,s.Message[0].Message)):t(!1,s.Message[0].Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1,a.t0.Message[0].Message);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getPromotiontDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(Ve,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:A,payload:s.Message[0].Promotion_List}),t(!0)):(n({type:A,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:A,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut,resetToInitialState:Gt,modifyPromotion:function(e,t){return Object(Pt.a)(Mt.a.mark((function a(){var n;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(He,e);case 3:!1!==(n=a.sent).SuccessFlag?t(!0):t(!1,n.Message[0].Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1,a.t0.Message[0].Message);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))}}),dn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).state={showItems:[]},n}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-xl-4 col-md-6 mb-4"},s.a.createElement("div",{className:"card p-2 border-0",style:{height:"260px"}},s.a.createElement("p",{className:"card-header bg-white p-2 row m-0",style:{color:"#0283c2"}},s.a.createElement("span",{className:"text-truncate col-sm"},this.props.Package_Name),s.a.createElement("span",{className:"font-weight-bold col-sm-4 text-right",style:{float:"right"}},"Rs. ",this.props.Package_Amount)),s.a.createElement("div",{className:"card-body mt-2 p-2"},s.a.createElement("div",{className:"no-gutters h-100 d-flex flex-column justify-content-between"},s.a.createElement("div",{className:""},this.props.Service_List&&this.props.Service_List.slice(0,4).map((function(e,t){return s.a.createElement("p",{style:{color:"#106690"},key:t,className:"text-truncate"},s.a.createElement("i",{className:"far fa-check pr-2"}),e.Service_Name)}))),s.a.createElement("div",{className:""},s.a.createElement("button",{className:"float-right btn btn-sm btn-link",onClick:function(){return e.props.onClickOpen(e.props)}},"see more"))))))}}]),a}(n.Component),un=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(La.a,{isOpen:!0,toggle:function(){return e.props.onClickClose()},size:"lg"},s.a.createElement(Oa.a,{toggle:function(){return e.props.onClickClose()},className:"w-100"},s.a.createElement("div",{className:"p-2"},this.props.Package_Name,", ","(".concat(this.props.Package_Code,")"))),s.a.createElement(Ta.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},s.a.createElement("h4",null,"Service List"),s.a.createElement("div",{className:"col-12"},this.props.Service_List&&this.props.Service_List.map((function(e,t){return s.a.createElement("p",{style:{color:"#106690"},key:t},s.a.createElement("i",{className:"far fa-check pr-2"}),e.Service_Name)}))),this.props.Effective_From&&this.props.Effective_To&&s.a.createElement("div",null,s.a.createElement("h4",null,"Date"),s.a.createElement("p",{style:{color:"#106690"}},ie()(this.props.Effective_From).format("DD-MM-YYYY")," To"," ",ie()(this.props.Effective_To).format("DD-MM-YYYY")))))))),s.a.createElement(Aa.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("button",{type:"button",className:"btn btn-light rounded mr-2",onClick:function(){return e.props.onClickClose()}},"Close")))))}}]),a}(n.Component),pn=Object(l.b)(null,{})(un),gn={hasError:!1,showLoading:!1,packageName:"",packageCost:0,showToast:!0,errorMsg:"",testArr:[],startIndex:1,pageCount:100,testValue:[],showLoadingOnClick:!1,showModal:!1,modalData:{},startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),testArrVal:[]},fn=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).getTest=function(e){return n.setState({newValue:e},(function(){var e={Search_Text:n.state.newValue,Start_Index:n.state.startIndex,Page_Count:n.state.pageCount};n.props.getTestDetails(e,(function(e){if(n.setState({showLoading:!1}),e){var t=[];n.props.testList.filter((function(e){return t.push({value:e,label:e.Service_Name})})),n.setState({testValue:t})}else console.log("")}))})),e},n.filterColors=function(e){return n.state.testValue.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))},n.loadOptions=function(e,t){setTimeout((function(){t(n.filterColors(e))}),1e3)},n.handleChange=function(e){if("packageCost"!==e.target.name)n.setState(Object(Tt.a)({},e.target.name,e.target.value));else{(/^[0-9\b]+$/.test(e.target.value)||""===e.target.value)&&n.setState(Object(Tt.a)({},e.target.name,e.target.value))}},n.onClickSubmit=function(){var e={Package_Name:n.state.packageName,Package_Amount:n.state.packageCost,Services_In_A_Package:n.state.testArr,From_Date:n.state.startDate?ie()(n.state.startDate).format("YYYY/MM/DD"):"",To_Date:n.state.endDate?ie()(n.state.endDate).format("YYYY/MM/DD"):""};Zt(n.state.packageName)||n.state.packageCost<=0||Wt(n.state.testArr)?n.setState({hasError:!0}):(n.setState({showLoadingOnClick:!0}),n.props.addGroupTest(e,(function(e){n.setState({showLoadingOnClick:!1}),!0===e?(n.props.showNotification("Success","Group test created successfully",Ma),n.setState(gn)):n.props.showNotification("Error",e,Pa)})))},n.onChange=function(e){var t=[];e&&e.forEach((function(e){t.push({Service_Code:e.value.Service_Code})})),n.setState({testArr:t,testArrVal:e})},n.onClickOpen=function(e){n.setState({modalData:e,showModal:!0})},n.onClickClose=function(){n.setState({showModal:!1})},n.state=gn,n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.resetToInitialState(),this.setState({showLoading:!0});var t={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code};this.props.getGroupTest(t,(function(t){e.setState({showLoading:!1}),console.log("")}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid  "},this.state.showModal&&s.a.createElement(pn,Object.assign({onClickClose:function(){return e.onClickClose()}},this.state.modalData)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-9"},s.a.createElement("h4",{className:"float-left"},"Group Test"))),s.a.createElement("hr",{className:"mb-3 mt-0"}),s.a.createElement("div",{className:"filter-product  bg-dark p-4 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card-body py-1"},s.a.createElement("h5",{className:"text-black pb-2"},"Add Group Test"),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-lg-6 col-sm-6"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Package Name"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Package Name",value:this.state.packageName,name:"packageName",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&Zt(this.state.packageName)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Package name is required")))),s.a.createElement("div",{className:"col-lg-6 col-sm-6"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Add Test"),s.a.createElement(va.a,{className:"react-select",loadOptions:this.loadOptions,onInputChange:this.getTest,onChange:this.onChange,isMulti:!0,value:this.state.testArrVal,placeholder:"Search Test"}),this.state.hasError&&Wt(this.state.testArr)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Test is required"))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"Package Cost(Rs)"),s.a.createElement("input",{type:"text",className:"form-control bg-transparent form-control-border",placeholder:"Package Cost",value:this.state.packageCost,name:"packageCost",onChange:function(t){return e.handleChange(t)}}),this.state.hasError&&this.state.packageCost<=0&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Package Cost is required")))),s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"From Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"startDate",value:this.state.startDate,onChange:function(t){return e.setState({startDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")},(function(){ie()(t).isAfter(e.state.endDate)&&e.setState({endDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})}))},minDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"col-lg-2 col-sm-2"},s.a.createElement("div",{className:"form-group mb-lg-0"},s.a.createElement("label",null,"To Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"endDate",value:this.state.endDate,onChange:function(t){return e.setState({endDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(e.state.startDate).format("YYYY-MM-DD")})},minDate:ie()(this.state.startDate).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"col-sm-6 d-flex justify-content-start align-items-center"},s.a.createElement("div",{className:"mt-3"},s.a.createElement("button",{className:"btn btn-sm btn-primary",disabled:this.state.showLoadingOnClick,onClick:function(){return e.onClickSubmit()}},"Submit",this.state.showLoadingOnClick&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"}))))),this.state.errorMsg&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.state.errorMsg)))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"text-black pb-3"},"Groups Test List"),s.a.createElement("div",{className:"row"},this.state.showLoading?s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"})):s.a.createElement(s.a.Fragment,null,this.props.groupTestList&&this.props.groupTestList.map((function(t,a){return s.a.createElement(dn,Object.assign({key:a},t,{onClickOpen:function(t){return e.onClickOpen(t)}}))}))))))))))))}}]),a}(n.Component),(function(e){return{groupTestList:e.groupTestState.groupTestList,testList:e.bookingDetailsState.testList}}),{addGroupTest:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post($e,e);case 3:200===(s=a.sent).Code?(n({type:P,payload:s.Message}),t(!0)):t(s.Message[0].Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(a.t0.Message[0].Message);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getGroupTest:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(et,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:P,payload:s.Message}),t(!0)):(n({type:P,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:P,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getTestDetails:ia,showNotification:Ut,resetToInitialState:Gt}),hn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"main-content bg-white"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"p-3"},s.a.createElement("div",{className:"d-sm-flex flex-wrap"},s.a.createElement("div",{className:"mb-2 d-flex align-self-center flex-grow-1"},s.a.createElement("h4",{className:"mb-0"},"Book Test")),s.a.createElement("div",{className:"usr-profile mb-0 d-sm-flex "},s.a.createElement("img",{src:this.props.image||aa.a,className:"img-fluid rounded-circle float-sm-left mr-3",alt:"",style:{height:"50px",width:"50px"},title:"profile"}),s.a.createElement("div",{className:"profile-content"},s.a.createElement("p",{className:"mb-0 text-color"},this.props.name,", ",this.props.age),s.a.createElement("span",{className:"text-color"},this.props.gender)))))))))}}]),a}(n.Component),bn=ea((function(e){var t=s.a.createRef(),a=Object(l.c)((function(e){return e.bookTestState})),o=Object(l.c)((function(e){return e.bookingDetailsState})),r=a.patientList,c=o.bookingTypeList,i=o.phlebotomistList,m=(a.userAddressList,Object(n.useState)(e.location.state.patientCode)),d=Object(Rt.a)(m,2),u=d[0],p=d[1],g=Object(n.useState)({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Pt_Code:u}),f=Object(Rt.a)(g,2),h=f[0],b=f[1],v=Object(n.useState)({selectedPtCode:u}),E=Object(Rt.a)(v,2),N=E[0],y=E[1],_=Object(n.useState)({}),w=Object(Rt.a)(_,2),S=w[0],k=w[1],D=Object(n.useState)([]),C=Object(Rt.a)(D,2),x=C[0],L=C[1],O=Object(n.useState)([]),T=Object(Rt.a)(O,2),A=T[0],M=T[1],P=Object(n.useState)(""),j=Object(Rt.a)(P,2),Y=j[0],F=j[1],B=Object(n.useState)(""),I=Object(Rt.a)(B,2),R=I[0],U=I[1],G=Object(n.useState)([]),V=Object(Rt.a)(G,2),z=(V[0],V[1]),H=Object(n.useState)([]),W=Object(Rt.a)(H,2),Z=W[0],X=W[1],J=Object(n.useState)(0),Q=Object(Rt.a)(J,2),q=Q[0],K=Q[1],$=Object(n.useState)(0),ee=Object(Rt.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),se=Object(Rt.a)(ne,2),oe=se[0],re=se[1],le=Object(n.useState)({Collection_Charge:0}),ce=Object(Rt.a)(le,2),me=ce[0],ue=ce[1],pe=Object(n.useState)(0),ge=Object(Rt.a)(pe,2),fe=(ge[0],ge[1]),he=Object(n.useState)(""),be=Object(Rt.a)(he,2),ve=be[0],Ee=be[1],Ne=Object(n.useState)(ie()(new Date).format("YYYY-MM-DD")),ye=Object(Rt.a)(Ne,2),_e=ye[0],we=ye[1],Se=Object(n.useState)(""),ke=Object(Rt.a)(Se,2),De=ke[0],Ce=ke[1],xe=Object(n.useState)({}),Le=Object(Rt.a)(xe,2),Oe=Le[0],Te=Le[1],Ae=Object(n.useState)({Availed_Times:0,Coupon_Code:"",Coupon_Desc:"",Coupon_Heading:"",Offer_Percentage:0,Offer_Times:0,Validity_ToDate:""}),Me=Object(Rt.a)(Ae,2),Pe=Me[0],je=Me[1],Ye=Object(n.useState)({}),Fe=Object(Rt.a)(Ye,2),Be=(Fe[0],Fe[1]),Ie=Object(n.useState)([]),Re=Object(Rt.a)(Ie,2),Ue=Re[0],Ge=Re[1],Ve=Object(n.useState)(!1),ze=Object(Rt.a)(Ve,2),He=ze[0],We=ze[1],Ze=Object(n.useState)(!1),Xe=Object(Rt.a)(Ze,2),Je=Xe[0],Qe=Xe[1],qe=Object(n.useState)(!1),Ke=Object(Rt.a)(qe,2),$e=(Ke[0],Ke[1]),et=Object(n.useState)(""),tt=Object(Rt.a)(et,2),at=tt[0],nt=tt[1],st=Object(n.useState)({}),ot=Object(Rt.a)(st,2),rt=ot[0],lt=ot[1],ct=Object(n.useState)({}),it=Object(Rt.a)(ct,2),mt=it[0],dt=it[1],ut=Object(n.useState)("C"),pt=Object(Rt.a)(ut,2),gt=pt[0],ft=pt[1],ht=Object(n.useState)(!1),bt=Object(Rt.a)(ht,2),vt=(bt[0],bt[1]),Et=Object(n.useState)(!1),Nt=Object(Rt.a)(Et,2),yt=Nt[0],_t=Nt[1],St=Object(n.useState)(0),kt=Object(Rt.a)(St,2),Dt=kt[0],Ct=kt[1],xt=Object(n.useState)(""),Lt=Object(Rt.a)(xt,2),Ot=Lt[0],Tt=Lt[1];console.log(Pe),Object(n.useEffect)((function(){e.patientUserList&&e.patientUserList.length&&e.patientUserList.forEach((function(e){e.Pt_Code==r[0].Patient_ID&&dt(e)}))}),[e.patientUserList]),Object(n.useEffect)((function(){Ge(a.userAddressList),Te(a.userAddressList&&a.userAddressList.length&&a.userAddressList[0].Address_Type_Code),lt(a.userAddressList&&a.userAddressList.length&&a.userAddressList[0])}),[a.userAddressList]),Object(n.useEffect)((function(){e.getPatientDetails(h,(function(e){e&&console.log("")}))}),[h]),Object(n.useEffect)((function(){e.getBookingTypeDetails({},(function(e){e&&console.log("")}));var t={Type_Of_Booking:"H",Date_Of_Booking:ie()(new Date).format("YYYY/MM/DD")};Tt(t.Type_Of_Booking),e.bookingSlotDaywise(t,(function(e){e&&200===e.Code?(L(e.Message[0].Slot_Detail),console.log("")):console.log("")})),e.getPhlebotomistDetails({},(function(e){e&&console.log("")}))}),[]),Object(n.useEffect)((function(){c&&c.length&&k({minDate:ie()(c[0].Slot_Start_Date).format("YYYY-MM-DD"),maxDate:ie()(c[0].Slot_End_Date).format("YYYY-MM-DD"),visitType:c[0].Booking_Type_Code})}),[c]),Object(n.useEffect)((function(){jt(S)}),[S]),Object(n.useEffect)((function(){if(console.log(""),r&&r.length){var t={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,UserName:r[0].User_Name};e.getPatientListDetails(t,(function(a,n){M(n),a&&(a?e.getUserAddressListDetails(t,(function(e){e?console.log("success"):console.log("")})):(e.showNotification("Error","Invalid Username or Patient not found",Pa),e.history.push(wt)))}))}}),[r]);var At=function(){var e=Z;X(Object(ga.a)(e))},Mt=function(t){console.log(""),"W"===S.visitType?(ue({Collection_Charge:0}),re(t+0)):e.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:t,Pt_Code:h.Pt_Code},(function(e,a){e&&(ue({Collection_Charge:a.Collection_Charge}),re(t+a.Collection_Charge))}))};Object(n.useEffect)((function(){if(Z&&Z.length<=0&&(ue({Collection_Charge:0}),Tt("H"),Pt()),""==De||null==De){var e=0;return Z&&Z.length&&Z.forEach((function(t){t.Service_Amount?e+=t.Service_Amount:e+=t.Amount,ae(e)})),Mt(e)}if(""!=De&&Pe.Offer_Percentage>0||Pe.Discount_In_Percent>0){We(!0);var t=0,a=0;return Z&&Z.length&&Z.forEach((function(e){e.Service_Amount?t+=e.Service_Amount:t+=e.Amount,e.Service_Discount?a+=e.Service_Discount:0==e.Suppress_Discount?a+=e.Amount*(Pe.Offer_Percentage?Pe.Offer_Percentage:Pe.Discount_In_Percent?Pe.Discount_In_Percent:100)/100:a+=0,fe(a),ae(t)})),K(t-a),Mt(t-a)}}),[Z,De]);var Pt=function(){Ce(""),nt(""),je({Availed_Times:0,Coupon_Code:"",Coupon_Desc:"",Coupon_Heading:"",Offer_Percentage:0,Offer_Times:0,Validity_ToDate:""}),We(!1)},jt=function(t){var a={Type_Of_Booking:S.visitType,Date_Of_Booking:ie()(t).format("YYYY/MM/DD")};e.bookingSlotDaywise(a,(function(e){200===e.Code?(L(e.Message[0].Slot_Detail),console.log("")):console.log("")}))};Object(n.useEffect)((function(){jt(_e)}),[_e]);Object(n.useEffect)((function(){Pt(),e.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:He?q:te,Pt_Code:h.Pt_Code},(function(e,t){e&&("H"===S.visitType?ue({Collection_Charge:t.Collection_Charge}):ue({Collection_Charge:0}),console.log(""),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===Ot?(We(!0),je(t),Ce(t.Promo_Code),Qe(!1),nt("Promo Applied")):(Pt(),At()))}))}),[h]);Object(n.useEffect)((function(){Mt(He?q:te)}),[Ue]);var Yt=function(e){ft(e)};return Object(n.useEffect)((function(){}),[N]),s.a.createElement(s.a.Fragment,null,s.a.createElement(hn,{name:Object.keys(A).length?mt.Pt_Name:"",image:Object.keys(A).length&&mt.Pt_Profile_Picture,age:Object.keys(A).length?mt.Pt_First_Age:"",gender:Object.keys(A).length?mt.Pt_Gender:""}),s.a.createElement("div",{className:"main-content overflow-auto pb-3 bg-white"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"px-lg-3"},s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"1"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Lab Test Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-flex flex-wrap"},s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Test-Details "},s.a.createElement("div",{className:""},s.a.createElement("h6",{className:"text-gray font-weight-bold"},"Search Test"),s.a.createElement("div",{className:"input-group Search-width my-3"},s.a.createElement("input",{type:"text",className:"form-control border-0 p-4",placeholder:"Search or Add",name:"searchTest",value:Y,onChange:function(t){F(t.target.value),function(t){var a={Search_Text:t,Start_Index:1,Page_Count:100};e.getTestDetails(a,(function(e){e&&console.log("")}))}(t.target.value)}}),s.a.createElement("div",{className:"input-group-btn"},s.a.createElement("button",{className:"btn btn-secondary",type:"submit"},s.a.createElement("i",{className:"far fa-search text-white"})))),Z&&Z.length?Z.map((function(e,t){return s.a.createElement("button",{key:t,type:"button",className:"btn btn-sm btn-primary button-tag",onClick:function(){return function(e){var t=Z;t.splice(e,1),X(Object(ga.a)(t))}(t)},style:{marginRight:"10px",marginBottom:"10px"},disabled:!!e.hasOwnProperty("item.Is_Editable_Service")&&(!e.Is_Editable_Service||!1===e.Is_Editable_Service)},e.Service_Name,s.a.createElement("span",{className:"badge badge-close"},s.a.createElement("i",{className:"far fa-times"})))})):"",s.a.createElement("div",{className:"card col-lg-10 col-sm-12 my-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card-body"},s.a.createElement("ul",{className:"list-group patient-listtag text-color bookTest-testFilter"},s.a.createElement("p",{className:"fa-md"},"Lab Test"),e.testList&&e.testList.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("button",{key:a,type:"button",className:"btn btn-sm btn-secondary fal fa-plus",onClick:function(){return function(t,a){(console.log(""),void 0==Z.find((function(e){return e.Service_Code==t.Service_Code})))?(X([].concat(Object(ga.a)(Z),[t])),F(""),e.testList.splice(a,1),0==He&&Ce("")):(F(""),e.showNotification("Error","Test Exsists",Pa))}(t,a)},style:{marginRight:"10px"}},t.code),t.Service_Name)})),0==e.testList.length?s.a.createElement("li",null,s.a.createElement("small",null,"No search results")):null))))))),s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Test-Details"},s.a.createElement("h6",{className:"text-gray font-weight-bold"},"Choose Phlebotomist"),s.a.createElement("div",{className:"dropdown my-3"},s.a.createElement(sa.a,null,s.a.createElement(oa.a,{className:"col-sm-12 p-2 dropdown-toggle patient-dropdown d-flex justify-content-between align-items-center bg-white",type:"select",placeholder:"Select",name:"phlebotomist",onChange:function(e){return U(e.target.value)},disabled:"W"===S.visitType},s.a.createElement("option",{value:""},"Select Phlebotomist"),"H"===S.visitType&&i&&i.length&&i.map((function(e,t){return s.a.createElement("option",{key:t,value:e.Collector_Code},e.Collector_Name)}))))))))),s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"2"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Date and Time"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-flex flex-wrap py-4"},s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Vist-type"},s.a.createElement("div",{className:" "},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Visit type"),Z&&Z.length?s.a.createElement("div",{className:"form-control res-width w-50"},c&&c.length&&c.map((function(t,a){if("L"!==t.Booking_Type_Code)return s.a.createElement("div",{className:"form-check form-check-inline",key:a},s.a.createElement("input",{className:"form-check-input mr-0",type:"radio",name:"bookType",id:t.Booking_Type_Code,defaultChecked:"H"===t.Booking_Type_Code,onChange:function(){var a,n,s;a=t.Booking_Type_Code,n=t.Slot_Start_Date,s=t.Slot_End_Date,Tt(a),we(ie()(new Date).format("YYYY-MM-DD")),Ee(""),Pt(),U(""),k({minDate:ie()(n).format("YYYY-MM-DD"),maxDate:ie()(s).format("YYYY-MM-DD"),visitType:a}),e.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:He?q:te,Pt_Code:h.Pt_Code},(function(e,t){console.log(""),e&&("H"===S.visitType?ue({Collection_Charge:t.Collection_Charge}):ue({Collection_Charge:0}),console.log(""),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===a?(We(!0),je(t),Ce(t.Promo_Code),Qe(!1),nt("Promo Applied"),At()):(Pt(),At()))}))}}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:t.Booking_Type_Code},t.Type_Of_Booking))}))):""))),s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"Vist-type col-sm-6 "},s.a.createElement("div",{className:"position-relative mob-width"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"bookDate",value:_e,onChange:function(e){return function(e){we(ie()(e).format("YYYY-MM-DD"))}(e)},maxDate:S.maxDate,minDate:S.minDate,dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"Vist-type col-sm-6"},s.a.createElement("div",{className:"position-relative mob-width ml-sm-n3"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Time"),s.a.createElement("select",{className:"form-control",name:"bookTime",value:ve,onChange:function(e){return function(e){Ee(e)}(e.target.value)}},s.a.createElement("option",null,"Select time slot"),x&&x.length?x.map((function(e,t){return s.a.createElement("option",{key:t,value:e.Slot_Time},e.Slot_Time)})):""))))))),s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"3"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Update User Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-sm-flex flex-wrap my-3"},s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12 col-sm-12 mob-width",style:{}},s.a.createElement("div",{className:"Vist-type ",style:{overflowX:"auto"}},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Choose Patient"),s.a.createElement("div",{className:"d-sm-flex patient-web mb-3 "},e.patientUserList&&e.patientUserList.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-control d-sm-flex  patient-inner flex-wrap mr-2 mb-lg-0 mb-md-0 mb-3"},s.a.createElement("div",{className:"form-check form-check-inline mr-0 Patient-tag text-truncate"},s.a.createElement("img",{src:"Self"===t.RelationShip_Name&&t.Pt_Profile_Picture?t.Pt_Profile_Picture:aa.a,alt:"",className:"rounded-circle",style:{height:"20px",width:"20px"}}),s.a.createElement("label",{className:"form-check-label mx-2",htmlFor:t.Pt_Code},t.RelationShip_Name),s.a.createElement("input",{className:"form-check-input mr-0",type:"radio",name:"user",id:t.Pt_Code,defaultChecked:t.Pt_Code===N.selectedPtCode,onChange:function(){return function(t,a,n,s,o,r){y({selectedPtCode:t}),Be({userListData:{name:a,age:n,relationship:s,gender:o}});var l={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,UserName:r};e.getUserAddressListDetails(l,(function(e){b({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Pt_Code:t}),e?console.log("k"):console.log("")}))}(t.Pt_Code,t.Pt_Name,t.Pt_First_Age,t.RelationShip_Name,t.Pt_Gender,t.Pt_Mobile_No)}})))}))),s.a.createElement("div",{className:"w-75 res-width"},s.a.createElement("div",{className:"patient-details  p-2 my-3",style:{maxWidth:"max-content"}},s.a.createElement("ul",{className:"list-group list-group-horizontal patient-name align-items-center"},s.a.createElement("li",null,s.a.createElement("span",{className:"border-right pr-3"},r&&r.length?e.patientList[0].Patient_Name:""," ,"," ",r&&r.length?e.patientList[0].First_Age:"")),s.a.createElement("li",null,s.a.createElement("span",{className:"border-right px-3"},r&&r.length?e.patientList[0].Gender:"")),s.a.createElement("li",null,s.a.createElement("span",{className:"pl-3"},r&&r.length?e.patientList[0].RelationShip_Name:""))))))),s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12  col-sm-12 mob-width",style:{}},s.a.createElement("div",{className:"visit-edit"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Choose Address"),s.a.createElement("div",{className:"row"},Ue&&Ue.length&&Ue.map((function(e,t){return s.a.createElement("div",{key:t,className:"col-sm-6 "},s.a.createElement("div",{className:" card mb-3  p-3 flex-row"},s.a.createElement("div",{className:"form-check "},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"selectedAddressType",id:e.Address_Type_Code,value:e.Address_Type_Code,defaultChecked:rt.Address_Type_Code===e.Address_Type_Code,onChange:function(){return Te(e.Address_Type_Code)}}),s.a.createElement("label",{className:"form-check-label",htmlFor:e.Address_Type_Code},e.Address_Type_Desc),s.a.createElement("p",{className:"text-gray mb-0 mt-1",style:{fontSize:"13px"}},e.Full_Address)),s.a.createElement("div",{className:"d-flex"},s.a.createElement("span",null,s.a.createElement("i",{className:"fal fa-pencil-alt",style:{color:"#5A9ED8"}})))))}))))))),s.a.createElement("div",{className:"bg-dark mb-4 pb-2"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"},s.a.createElement("h6",{className:"mb-0 text-color font-weight-bold ml-3"},"Payment Details")),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"4"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Payment Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-sm-flex flex-wrap my-3"},s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12 col-sm-12 mob-width"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h6",{className:"text-color mb-1"},"Payment Details"),s.a.createElement("h6",{className:"text-color mb-1"},"Amount(Rs)")),s.a.createElement("hr",{className:"my-2"}),s.a.createElement("div",{className:"patient-web mb-3 "},s.a.createElement("div",{className:"row"},Z&&Z.length?Z.map((function(e,t){return s.a.createElement("div",{className:"col-sm-12",key:t},s.a.createElement("div",{className:"d-flex list-inline"},1==e.Suppress_Discount?s.a.createElement("span",{style:{color:"red"}},"*"):"",s.a.createElement("label",{className:"flex-grow-1 text-color"},e.Service_Name),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color"},e.Amount))),s.a.createElement("hr",{className:"my-1"}))})):""),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"flex-grow-1 text-color"},"Order Value"),s.a.createElement("div",{className:"justify-content-end d-flex"},s.a.createElement("del",{style:{color:"red"}},s.a.createElement("p",{className:"mb-0 mr-4 text-color text-danger"},He&&Z&&Z.length?te.toFixed(2):"")),s.a.createElement("p",{className:"mb-0 text-color text-success"},He?Z&&Z.length&&q.toFixed(2):Z&&Z.length&&te.toFixed(2)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"col-form-label text-color flex-grow-1"},"Sample collection charges"),s.a.createElement("div",{className:"justify-content-end"},Object.keys(me).length&&me.Collection_Charge>0?me.Collection_Charge:0)))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"col-form-label text-color flex-grow-1"},"Amount Payable"),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color text-success"},Z&&Z.length&&oe.toFixed(2))))),s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline mt-5"},s.a.createElement("label",{className:"col-form-label flex-grow-1"},s.a.createElement("h6",null,"Note : ",s.a.createElement("span",{style:{color:"red"}},"* - Indicates Non Discounted Test"))),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color text-success"})))))))),s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12  col-sm-12 mob-width"},Z&&Z.length?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-10"},s.a.createElement("div",{className:"visit-edit"},s.a.createElement("h6",{className:"text-color mb-3"},"Voucher Code"," ",s.a.createElement("span",{className:"ml-2",style:{float:"right",color:He?"green":"red"}},at)),s.a.createElement("div",{className:"form-group d-flex justify-content-between"},s.a.createElement(fa.a,null,s.a.createElement("input",{type:"text",className:"form-control bg-transparent patient-details",placeholder:"Voucher Code",name:"promotion",onChange:function(e){Ce(e.target.value),nt("")},value:De,disabled:He}),s.a.createElement("span",{className:"fa fa-times-circle closeIcon",onClick:function(){return Pt()}}),s.a.createElement(ha.a,{addonType:"append"},s.a.createElement(ba.a,{color:"secondary",disabled:Je,onClick:function(){return function(){Qe(!0);var t={Labadmin_Code:h.Labadmin_Code,Username:r&&r.length&&r[0].Mobile_No,Promo_Code:De.trim()};e.getPromotiontApplyDetails(t,(function(e){"true"===e.SuccessFlag?(We(e.SuccessFlag),je(e.Message[0]),Ce(e.Message[0].Coupon_Code),Qe(!1),nt("Promo Applied"),At()):"false"===e.SuccessFlag&&(We(!1),Qe(!1),Ce(""),nt("Voucher Invalid!"),je({Availed_Times:0,Coupon_Code:"",Coupon_Desc:"",Coupon_Heading:"",Offer_Percentage:0,Offer_Times:0,Validity_ToDate:""}),At(),We(!1))}))}()}},"Apply \xa0",Je?s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"}):s.a.createElement(s.a.Fragment,null))))))),s.a.createElement("div",{className:"col-10"},s.a.createElement("div",{className:"Vist-type mb-lg-0 mb-md-3 mb-3"},s.a.createElement("div",{className:" "},s.a.createElement("h6",{className:"text-color mb-3"},"Payment Mode"),s.a.createElement("div",{className:"form-control res-width"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"paymentMode",id:"paymentModeCash",defaultChecked:"C"===gt,onChange:function(e){return Yt(e.target.value)},value:"C"}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:"paymentModeCash"},"Cash")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"paymentMode",id:"paymentModeOnline",defaultChecked:"O"===gt,onChange:function(e){return Yt(e.target.value)},value:"O"}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:"paymentModeOnline"},"Online"))))))):"")),yt?null:s.a.createElement("div",{className:"d-flex justify-content-end mr-4 my-5"},s.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return function(){var t=[];if(console.log(""),Z.forEach((function(e){t.push({Service_Code:e.Service_Code,Service_Amount:e.Amount,Suppress_Discount:e.Suppress_Discount,Service_Discount:!1===e.Suppress_Discount&&Pe.Offer_Percentage?e.Amount*Pe.Offer_Percentage/100:Pe.Discount_In_Percent&&!1===e.Suppress_Discount?e.Amount*Pe.Discount_In_Percent/100:0})})),Wt(t)||Zt(ve)||Zt(_e))vt(!0),Zt(ve)&&e.showNotification("Warning","Please select slot time",Pa),Wt(t)&&e.showNotification("Warning","Please select services",Pa),Zt(_e)&&e.showNotification("Warning","Please select slot date",Pa);else if(Zt(R)&&"H"==S.visitType)e.showNotification("Warning","Please select Phlebotomist",Pa);else{var a=ie()(ve.trim(),["h:mm A"]).format("HH:mm"),n={Sample_Collect_Charge:me.Collection_Charge,Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Username:e.location.state.User_Login_Name,Booking_Type:S.visitType,Firm_No:de.a.get("userSession").Message[0].Firm_No,Visit_Date:ie()(_e).format("YYYY/MM/DD"),Visit_Time:a,Pt_Code:h.Pt_Code,Address_Type:Oe,Service_Reg_Data:t,Pay_Mode:gt,Promo_Code:Pe.Coupon_Code?Pe.Coupon_Code:Pe.Promo_Code,Collector_Code:R};console.log(""),e.bookTest(n,(function(t){"true"===t.SuccessFlag?(console.log("success"),e.showNotification("Success",t.Message&&t.Message[0].Description,Ma),_t(!0),p(null),b({Labadmin_Code:"",Pt_Code:""}),y({selectedPtCode:u}),k({}),L([]),M([]),F(""),U(""),z([]),X([]),K(0),ae(0),re(0),ue({Collection_Charge:0}),fe(0),Ee(""),we(ie()(new Date).format("YYYY-MM-DD")),Ce(""),Te({}),Be({}),Ge([]),We(!1),Qe(!1),$e(!1),nt(""),lt({}),dt({}),ft("C"),vt(!1),_t(!1),Ct(0),Pt(),e.history.push(wt)):e.showNotification("Error",t.Message[0].Message,Pa)}))}}()}},"Book Now"))),yt?s.a.createElement("div",{className:"bg-dark  mb-4 pb-2"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"},s.a.createElement("h6",{className:"mb-0 text-color font-weight-bold font-weight-bold ml-3"},"Booking Confirmation"))),s.a.createElement("div",{className:"pl-5"},s.a.createElement("p",null,"Your booking has been confirmed, following is your booking number : ",Dt," ","C"!==gt?", please complete the Payment through your mobile application.":null)),s.a.createElement("div",{className:"text-center"},s.a.createElement("h6",{className:"mb-0 font-weight-bold"},"C"===gt?"Pay in Cash":"Pay Online")),s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"amount-paid p-2 my-3 text-white"},"Amount to be paid"),s.a.createElement("div",{className:"patient-details p-2 my-4 bg-blue"},s.a.createElement("ul",{className:"list-group list-group-horizontal patient-name"}))),s.a.createElement("div",{className:"d-flex justify-content-end mr-4 mb-3"},s.a.createElement("button",{ref:t,className:"btn btn-sm btn-secondary",onClick:function(){return e.history.push(wt)}},"Go Back"))):null))))))}),(function(e){return{phlebotomistList:e.bookingDetailsState.phlebotomistList,bookingTypeList:e.bookingDetailsState.bookingTypeList,patientUserList:e.bookTestState.patientUserList,patientList:e.bookTestState.patientList,patientAddressList:e.bookTestState.userAddressList,testList:e.bookingDetailsState.testList}}),{getPhlebotomistDetails:la,getBookingTypeDetails:ca,getPatientListDetails:Na,getPatientDetails:Ea,getUserAddressListDetails:ya,getTestDetails:ia,getPromotiontApplyDetails:_a,bookTest:wa,showNotification:Ut,bookingSlotDaywise:ka,resetToInitialState:Gt,setTestListInStore:Sa,getCollectionCharges:Da}),vn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(La.a,{isOpen:!0,toggle:function(){return e.props.onClickClose()},size:"lg"},s.a.createElement(Oa.a,{toggle:function(){return e.props.onClickClose()},className:"w-100"},s.a.createElement("div",{className:"p-2"},"Notification Details")),s.a.createElement(Ta.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex w-100"},s.a.createElement("div",{className:"p-2"},s.a.createElement("div",{className:"col-12"},s.a.createElement("p",null,this.props.Notify_Message))))))),s.a.createElement(Aa.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("button",{type:"button",className:"btn btn-light rounded mr-2",onClick:function(){return e.props.onClickClose()}},"Close")))))}}]),a}(n.Component),En=Object(l.b)(null,{})(vn),Nn=a(83),yn=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.onClickSubmit()},n.onClickSubmit=function(){if(ie()(n.state.fromDate).isAfter(n.state.toDate))n.props.showNotification("Error","To date is greater than From date.",Pa);else{n.setState({showLoading:!0});var e={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Date_from:ie()(n.state.fromDate).format("YYYY/MM/DD"),Date_To:ie()(n.state.toDate).format("YYYY/MM/DD")};n.props.getNotificationDetails(e,(function(e){if(n.setState({showLoading:!1}),e){var t=[];n.props.notificationList.forEach((function(e){t.push({Notify_Date:e.Notify_Date,Notify_Time:e.Notify_Time,Notify_Message:e.Notify_Message})})),n.setState({dataArr:t})}else{n.setState({dataArr:[]})}}))}},n.onClickReadMore=function(e){n.setState({modalData:e,showModal:!0});var t={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Notify_Status:"R",Notify_Id:e.Notification_Id};n.props.notificationUpdate(t,(function(e){n.onClickSubmit(),console.log("")}))},n.onClickClose=function(){n.setState({showModal:!1})},n.state={fromDate:ie()(new Date).format("YYYY-MM-DD"),toDate:ie()(new Date).format("YYYY-MM-DD"),showLoading:!1,modalData:{},showModal:!1,dataArr:[]},n}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content bg-white"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},this.state.showModal&&s.a.createElement(En,Object.assign({onClickClose:function(){return e.onClickClose()}},this.state.modalData)),s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"p-3 mt-lg-0"},s.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},s.a.createElement("div",{className:"d-flex align-self-center flex-grow-1"},s.a.createElement("h4",{className:"mb-0 flex-grow-1"},"Notification"),s.a.createElement("button",{className:"btn btn-sm show-side-box d-none btn-light rounded-pill show-side-box justify-content-end",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"","data-original-title":"Filter"},s.a.createElement("i",{className:"fas fa-filter"}))),s.a.createElement("div",{className:"d-flex mobile-filter d-flex mr-2 align-items-center"},s.a.createElement("h6",{className:"mt-2 mr-3 font-weight-bold"},"FROM"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,{className:"m-0"},s.a.createElement(da.a,{name:"fromDate",value:this.state.fromDate,onChange:function(t){return e.setState({fromDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})},maxDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"d-sm-flex mobile-filter d-flex align-items-center"},s.a.createElement("h6",{className:"mt-2 mr-3 font-weight-bold"},"TO"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,{className:"m-0"},s.a.createElement(da.a,{name:"toDate",value:this.state.toDate,onChange:function(t){return e.setState({toDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(e.state.fromDate).format("YYYY-MM-DD")})},maxDate:ie()(new Date).format("YYYY-MM-DD"),minDate:ie()(this.state.fromDate).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1})))),s.a.createElement("div",{className:"usr-profile mobile-filter mb-0 mt-1 mr-2"},s.a.createElement("button",{className:"btn btn-sm btn-primary ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 mt-3 w-100",onClick:function(){return e.onClickSubmit()}},"Search")),s.a.createElement("div",{className:"usr-profile mobile-filter mb-0 mt-1"},0!==this.state.dataArr.length?s.a.createElement(Nn.CSVLink,{filename:"Notifications_".concat(ie()(new Date).format("DDMMYYYY_HHMMSS"),".csv"),data:this.state.dataArr,className:"btn btn-sm btn-success ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 mt-3 w-100"},"Download"):s.a.createElement("button",{className:"btn btn-sm btn-success ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 mt-3 w-100",disabled:"true"},"Download")))))))),s.a.createElement("div",{className:"main-content overflow-auto pb-3 bg-white vh-100"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"px-lg-3"},s.a.createElement("div",{className:"bg-dark mb-4"},this.state.showLoading?s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner mt-3"})):s.a.createElement(s.a.Fragment,null,0!==this.props.notificationList.length?this.props.notificationList.map((function(t,a){return s.a.createElement("div",{className:"card-body",key:a},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"d-flex bd-highlight align-self-start mr-3 ml-3"},s.a.createElement("div",{className:"ml-3 align-self-center"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-sm-12"},s.a.createElement("p",{className:"mb-0"},t.Notify_Message.substring(0,40),"...")),s.a.createElement("div",{className:"col-lg-4 col-sm-12"},s.a.createElement("div",{className:"d-flex align-items-start"},s.a.createElement("button",{onClick:function(){return e.onClickReadMore(t)},style:{color:"cornflowerblue"},className:"ml-lg-3 ml-md-0 ml-sm-0 text-nowrap btn btn-text"},s.a.createElement("small",null,"Read More")),"1"===t.IsNew&&"1"!==t.IsRead&&s.a.createElement("badge",{className:"badge badge-warning ml-3 mt-2"},"New"),"1"===t.IsRead&&s.a.createElement("badge",{className:"badge badge-secondary ml-3 mt-2"},"Older"))))))),s.a.createElement("div",{className:"d-flex mr-3 align-self-center justify-content-lg-end mt-lg-0 mt-md-0 mt-3 ml-sm-3 flex-grow-1"},s.a.createElement("div",{className:"user-date/time ml-3"},s.a.createElement("p",{className:"text-break mb-0 font-weight-lighter"},t.Time_Diff_Desc),s.a.createElement("p",{className:"mb-0 font-weight-bold"},t.Notify_Date)))))})):s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement("p",{className:"align-center pt-4"},"No data found"))),s.a.createElement("hr",{className:"m-0"}))))))))}}]),a}(n.Component),(function(e){return{notificationList:e.notificationReducer.notificationList}}),{getNotificationDetails:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s,o;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(at,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(o=[],s.Message.forEach((function(e){e.Notification_List.forEach((function(e){o.push(e)}))})),n({type:B,payload:o}),t(!0)):(n({type:B,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:B,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},notificationUpdate:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(st,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:I,payload:s.Message[0].Notification_List}),t(!0)):(n({type:I,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:I,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut}),_n=function(e){return s.a.createElement("div",{className:"box_sec w-25 px-2 mb-3"},s.a.createElement("div",{className:"amazon_products bg-white rounded-right pt-3",style:{borderLeft:"6px solid ".concat(e.User_Type_Color_Code)}},s.a.createElement("div",{className:"row pl-3"},s.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-4 text-center text-lg-left text-md-left"},s.a.createElement("img",{height:"95",width:"95",src:e.User_Profile_Picture?e.User_Profile_Picture:aa.a,alt:""}),s.a.createElement("p",{className:"mt-2 text-center text-truncate",title:e.Name_Of_the_User},e.Name_Of_the_User),s.a.createElement("small",{className:"mt-1 text-center text-truncate"},"Age - ",e.User_Age)),s.a.createElement("div",{className:"col-sm-12 col-md-8 col-lg-8 text-center text-lg-left text-md-left"},s.a.createElement("div",{className:"d-flex flex-row justify-content-center justify-content-lg-start"},s.a.createElement("div",{className:""},s.a.createElement("p",{className:"m-0"},s.a.createElement("i",{className:"far fa-mars pr-1"}),e.Alert_DateTime_Desc))),s.a.createElement("p",{className:"m-0 pt-2",title:e.SOS_Full_Address},s.a.createElement("i",{className:"far fa-map-marker-alt pr-1"}),function(){var t="";e.SOS_Full_Address&&(t+=e.SOS_Full_Address);var a=t.slice(0,65);return t.length>60&&(a+="..."),a}()),s.a.createElement("button",{className:"btn btn-sm btn-link",onClick:function(){return e.showModal({lat:e.SOS_Latitude,lng:e.SOS_Longitude})}},e.SOS_Latitude,", ",e.SOS_Longitude)))))},wn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t;"searchFieldCode"===e.target.name&&""===e.target.value?n.setState((t={},Object(Tt.a)(t,e.target.name,e.target.value),Object(Tt.a)(t,"searchText",""),t)):n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.onClickSubmit=function(){n.props.onLoadTrue();var e={Labadmin_Code:n.props.labAdminCode,From_Date:ie()(n.state.fromDate).format("YYYY/MM/DD"),To_Date:ie()(n.state.toDate).format("YYYY/MM/DD"),Search_Text:n.state.searchText};""!==n.state.searchFieldCode&&(e.Search_Field_Code=n.state.searchFieldCode),n.props.getSOS(e,(function(e){if(n.props.onLoadFalse(),"false"!==e.SuccessFlag&&!1!==e.SuccessFlag){var t=[];e.Message[0].Users_List.forEach((function(e){t.push({Name_Of_the_User:e.Name_Of_the_User,User_Type_Desc:e.User_Type_Desc,Alert_DateTime_Desc:e.Alert_DateTime_Desc,SOS_Full_Address:e.SOS_Full_Address,SOS_Latitude:e.SOS_Latitude,SOS_Longitude:e.SOS_Longitude,User_Dob:e.User_Dob,User_Email_Id:e.User_Email_Id,User_Gender:e.User_Gender,User_Mobile_No:e.User_Mobile_No})})),n.setState({dataArr:t})}else{n.setState({dataArr:[]}),"No data found."!==e.Message[0].Message&&n.props.showNotification("Error",e.Message[0].Message,Pa)}}))},n.state={searchText:"",searchFieldCode:"",fromDate:ie()(new Date).format("YYYY-MM-DD"),toDate:ie()(new Date).format("YYYY-MM-DD"),dataArr:[]},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoadTrue();this.props.getFilter({Search_Type_Code:"O"},(function(t){e.props.onLoadFalse(),console.log("")})),this.onClickSubmit()}},{key:"render",value:function(){var e=this,t=this.state.searchText;return s.a.createElement("div",{className:"filter-product bg-dark p-4 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-4 col-md-6 col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"From"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"fromDate",value:this.state.fromDate,onChange:function(t){return e.setState({fromDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})},dateFormat:"DD/MM/YYYY",maxDate:ie()(this.state.toDate).format("YYYY-MM-DD"),showClearButton:!1}))))),s.a.createElement("div",{className:"col-sm-4 col-md-6 col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"To"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"toDate",value:this.state.toDate,onChange:function(t){return e.setState({toDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(e.state.fromDate).format("YYYY-MM-DD")})},minDate:ie()(this.state.fromDate).format("YYYY-MM-DD"),maxDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1}))))),s.a.createElement("div",{className:"col-sm-4 col-md-6 col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"Filter"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"searchFieldCode",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.props.filterList?this.props.filterList.map((function(e,t){return s.a.createElement("option",{value:e.Filter_Code,key:t},e.Filter_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-3 mt-lg-0 mt-md-0 mt-3"},s.a.createElement("h6",null,"Search"),s.a.createElement("input",{type:"text",className:"form-control form-search border-0",placeholder:"Search by Patient, Phlebotomist",title:"Search by Patient, Phlebotomist",id:"form-search",value:t,name:"searchText",onChange:function(t){return e.handleChange(t)},disabled:""===this.state.searchFieldCode})),s.a.createElement("div",{className:"col-sm d-flex align-self-center"},s.a.createElement("div",{className:"form-group m-0 mb-2"},s.a.createElement("button",{className:"btn btn-sm btn-primary ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 w-100",onClick:function(){return e.onClickSubmit()}},"Search"))),s.a.createElement("div",{className:"col-sm d-flex align-self-center"},s.a.createElement("div",{className:"form-group m-0 mb-2"},0!==this.state.dataArr.length?s.a.createElement(Nn.CSVLink,{filename:"SOS_Alert_".concat(ie()(new Date).format("DDMMYYYY_HHMMSS"),".csv"),data:this.state.dataArr,className:"btn btn-sm btn-success ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 mt-3 w-100"},"Download"):s.a.createElement("button",{className:"btn btn-sm btn-success ml-lg-3 ml-md-3 ml-sm-0 mt-lg-0 mt-md-0 mt-3 w-100",disabled:!0},"Download")))))}}]),a}(n.Component),Sn=Object(l.b)(null,{getFilter:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(xe,e);case 3:(s=a.sent).hasOwnProperty("SuccessFlag")?(n({type:j,payload:s.Message[0].Filter_Type_List}),t(!0)):(n({type:j,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:j,payload:[]}),a.t0,t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getSOS:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(tt,e);case 3:!1!==(s=a.sent).SuccessFlag?(n({type:Y,payload:s.Message[0].Users_List}),t(s)):(n({type:Y,payload:[]}),t(s)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,n({type:Y,payload:[]}),t(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut})(wn),kn=a(1),Dn=a.n(kn),Cn=a(82),xn=a(123),Ln=Object(Cn.compose)(Object(Cn.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBA95X58xYmj0DNs4K5yX2VkA5EoUuqGRo","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"400px"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}})}),tn.withScriptjs,tn.withGoogleMap,Object(Cn.lifecycle)({componentDidMount:function(){var e=this,t=new google.maps.DirectionsService;console.log("props",this.props),this.props.coords&&t.route({origin:new google.maps.LatLng(this.props.coords.latitude,this.props.coords.longitude),destination:new google.maps.LatLng(this.props.directions.lat,this.props.directions.lng),travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC},(function(t,a){a===google.maps.DirectionsStatus.OK?e.setState({directions:t}):console.error("error fetching directions ".concat(t))}))}}))((function(e){return s.a.createElement(tn.GoogleMap,{defaultZoom:7,defaultCenter:new google.maps.LatLng(e.directions.lat,e.directions.lng)},e.directions&&s.a.createElement(tn.DirectionsRenderer,{directions:e.directions}))}));Ln.propTypes={defaultDelta:Dn.a.object};var On=Object(xn.geolocated)({positionOptions:{enableHighAccuracy:!0,timeout:1/0,maximumAge:0},userDecisionTimeout:5e3,geolocationProvider:navigator.geolocation,suppressLocationOnMount:!1,isOptimisticGeolocationEnabled:!0})(Ln),Tn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(La.a,{isOpen:!0,toggle:function(){return e.props.onClickClose()},size:"lg"},s.a.createElement(Ta.a,null,s.a.createElement(On,{directions:this.props.coordinates})),s.a.createElement(Aa.a,null,s.a.createElement("button",{onClick:function(){return window.open("https://www.google.com/maps/dir/?api=1&travelmode=driving&layer=traffic&destination=".concat(e.props.coordinates.lat,",").concat(e.props.coordinates.lng))},className:"btn btn-sm btn-primary"},"Open in Map")))}}]),a}(n.Component),An=Object(l.b)(null,null)(Tn),Mn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.resetToInitialState()},n.handleChange=function(e){"fromDate"===e.target.name?n.setState({fromDate:e.target.value,toDate:e.target.value}):n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.onLoadTrue=function(){n.setState({showLoading:!0})},n.onLoadFalse=function(){n.setState({showLoading:!1})},n.state={searchText:"",showViewModal:!1,cancelData:{},showLoading:!1,showModalLoading:!1},n}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.state.showLoading;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid  "},this.state.showViewModal?s.a.createElement(An,{onClickClose:function(){return e.setState({showViewModal:!1})},coordinates:this.state.coordinates}):null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"p-3 mt-lg-0 mt-2"},s.a.createElement("div",{className:"d-sm-flex flex-wrap"},s.a.createElement("div",{className:"d-flex align-self-center flex-grow-1"},s.a.createElement("h4",{className:"mb-0 flex-grow-1"},"SOS Alert")))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("hr",{className:"mb-3 mt-0"}),s.a.createElement(Sn,{filterList:this.props.filterList,labAdminCode:de.a.get("userSession").Message[0].Labadmin_Code,onLoadTrue:this.onLoadTrue,onLoadFalse:this.onLoadFalse}),s.a.createElement("div",{className:"row",style:{minHeight:"500px"}},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"box bg-white rounded-lg "}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:" col-12 p-3"},s.a.createElement("div",{className:"d-flex flex-wrap mr-n4 ml-n3"},t?s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"})):s.a.createElement(s.a.Fragment,null,0!==this.props.sosList.length?this.props.sosList.map((function(t,a){return s.a.createElement(_n,Object.assign({key:a,labAdminCode:de.a.get("userSession").Message[0].Labadmin_Code},t,{showModal:function(t){return e.setState({coordinates:t,showViewModal:!0})}}))})):s.a.createElement("div",{className:"col-12 d-flex flex-wrap justify-content-center"},s.a.createElement("p",{className:"align-center"},"No data found")))))))))))))}}]),a}(n.Component),Pn=ea(Object(xn.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(Mn),(function(e){return{filterList:e.sosAlertState.filterList,sosList:e.sosAlertState.sosList}}),{showNotification:Ut,resetToInitialState:Gt}),jn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("tr",null,s.a.createElement("td",{style:{textAlign:"left"}},this.props.sNo),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Branch_Name?this.props.Branch_Name:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Booking_Type_Desc?this.props.Booking_Type_Desc:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Booking_Date?ie()(this.props.Booking_Date).format("DD/MM/YYYY"):"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Booking_No?this.props.Booking_No:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Rated_By?this.props.Rated_By:"-"),s.a.createElement("td",{style:{textAlign:"right"}},function(){for(var t=[],a=0;a<e.props.Rating_Service_In_Number;a++)t.push(s.a.createElement("i",{className:"fa fa-star",style:{color:"gold"},"aria-hidden":"true"}));return 0!==t.length?t:"-"}()),s.a.createElement("td",{style:{textAlign:"right"}},function(){for(var t=[],a=0;a<e.props.Rating_Phlebotomist_In_Number;a++)t.push(s.a.createElement("i",{className:"fa fa-star",style:{color:"gold"},"aria-hidden":"true"}));return 0!==t.length?t:"-"}()),s.a.createElement("td",{style:{textAlign:"right"}},function(){for(var t=[],a=0;a<e.props.Rating_Patient_In_Number;a++)t.push(s.a.createElement("i",{className:"fa fa-star",style:{color:"gold"},"aria-hidden":"true"}));return 0!==t.length?t:"-"}()),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Review_Desc?this.props.Review_Desc:"-"),s.a.createElement("td",{style:{textAlign:"left"}},"Patient"===this.props.Rated_By?this.props.Feedback_Patient:this.props.Feedback_Phlebotomist||"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Rating_Service_TimeStamp?this.props.Rating_Service_TimeStamp:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Rating_Phlebotomist_TimeStamp?this.props.Rating_Phlebotomist_TimeStamp:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Rating_Patient_TimeStamp?this.props.Rating_Patient_TimeStamp:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Review_TimeStamp?this.props.Review_TimeStamp:"-"),s.a.createElement("td",{style:{textAlign:"left"}},this.props.Feedback_Patient_TimeStamp?this.props.Feedback_Patient_TimeStamp:"-"))}}]),a}(n.Component),Yn=a(193),Fn={hasError:!1,showLoading:!1,startDate:ie()(new Date).format("YYYY-MM-DD"),endDate:ie()(new Date).format("YYYY-MM-DD"),ratedBy:"",ratingType:"",rating:0,reviewType:"",dataArr:[]},Bn=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.onClickSubmit=function(){if(ie()(n.state.startDate).isAfter(n.state.endDate))n.props.showNotification("Error","To date is greater than From date.",Pa);else{var e={Labadmin_Code:ut(),Firm_No:de.a.get("userSession").Message[0].Firm_No,Review_Code:n.state.reviewType,Rating_No:n.state.rating,Rating_Action_Type:n.state.ratingType,Rated_By:n.state.ratedBy,Date_From:ie()(n.state.startDate).format("YYYY/MM/DD"),Date_To:ie()(n.state.endDate).format("YYYY/MM/DD")};n.setState({showLoading:!0}),n.props.getRating(e,(function(e){if(n.setState({showLoading:!1}),200===e.Code){var t=[];e.Message[0].Rating_Detail.forEach((function(e){t.push({Branch_Name:e.Branch_Name,Booking_Type_Desc:e.Booking_Type_Desc,Booking_Date:e.Booking_Date,Booking_No:e.Booking_No,Rated_By:e.Rated_By,Rating_Service_In_Number:e.Rating_Service_In_Number,Rating_Phlebotomist_In_Number:e.Rating_Phlebotomist_In_Number,Rating_Patient_In_Number:e.Rating_Patient_In_Number,Review_Desc:e.Review_Desc,Feedback_Patient:e.Feedback_Patient,Rating_Service_TimeStamp:e.Rating_Service_TimeStamp,Rating_Phlebotomist_TimeStamp:e.Rating_Phlebotomist_TimeStamp,Rating_Patient_TimeStamp:e.Rating_Patient_TimeStamp,Review_TimeStamp:e.Review_TimeStamp,Feedback_Patient_TimeStamp:e.Feedback_Patient_TimeStamp})})),n.setState({dataArr:t})}else{n.setState({dataArr:[]})}}))}},n.state=Fn,n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({showLoading:!0});var t={Labadmin_Code:ut(),Search_Type_Code:"V"};this.props.getReviewType(t,(function(e){console.log("")}));var a={Labadmin_Code:ut(),Search_Type_Code:"A"};this.props.getRatingActionType(a,(function(e){console.log("")}));var n={Labadmin_Code:ut(),Search_Type_Code:"S"};this.props.getRatingByStar(n,(function(e){console.log("")}));var s={Labadmin_Code:ut(),Search_Type_Code:"B"};this.props.getRatedBy(s,(function(t){e.setState({showLoading:!1}),console.log("")})),this.onClickSubmit()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-content overflow-auto pb-3"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"bg-white p-3 rounded"},s.a.createElement("div",{className:"d-flex justify-content-between mb-2"},s.a.createElement("h4",null,"Rating / Feedback")),s.a.createElement("div",{className:"filter-product  bg-dark p-4"},s.a.createElement("div",{className:"row col-sm-12 p-0 fs-13"},s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"From"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"startDate",value:this.state.startDate,onChange:function(t){return e.setState({startDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(new Date).format("YYYY-MM-DD")})},maxDate:ie()(new Date).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1}))))),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("h6",null,"To"),s.a.createElement("div",{className:"dropdown-select warning"},s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"endDate",value:this.state.endDate,onChange:function(t){return e.setState({endDate:ie()(t).isValid()?ie()(t).format("YYYY-MM-DD"):ie()(e.state.startDate).format("YYYY-MM-DD")})},maxDate:ie()(new Date).format("YYYY-MM-DD"),minDate:ie()(this.state.startDate).format("YYYY-MM-DD"),dateFormat:"DD/MM/YYYY",showClearButton:!1}))))),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Rated By"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"ratedBy",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.props.ratedByList?this.props.ratedByList.map((function(e,t){return s.a.createElement("option",{value:e.Rated_By_Code,key:t},e.Rated_By_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Rating Type"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"ratingType",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.props.ratingActionTypeList?this.props.ratingActionTypeList.map((function(e,t){return s.a.createElement("option",{value:e.Rating_Action_Code,key:t},e.Rating_Action_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Rating"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"rating",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:"0"},"All"),this.props.ratingByStarList?this.props.ratingByStarList.map((function(e,t){return s.a.createElement("option",{value:e.Rating_Star_Code,key:t},e.Rating_Star_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"dropdown-filter"},s.a.createElement("h6",null,"Review Type"),s.a.createElement(sa.a,null,s.a.createElement(oa.a,{type:"select",id:"filter",placeholder:"Select",name:"reviewType",onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",{value:""},"All"),this.props.reviewTypeList?this.props.reviewTypeList.map((function(e,t){return s.a.createElement("option",{value:e.Review_Code,key:t},e.Review_Desc)})):s.a.createElement("option",{value:""},"All")))))),s.a.createElement("div",{className:"col-sm-1 d-flex align-items-center"},s.a.createElement("div",{className:"form-group m-0 mb-2"},s.a.createElement("button",{className:"btn btn-sm btn-primary ml-sm-0 mt-lg-0 mt-md-0 mt-3",onClick:function(){return e.onClickSubmit()}},"Search"))),s.a.createElement("div",{className:"col-sm-1 d-flex align-items-center"},s.a.createElement("div",{className:"form-group m-0 mb-2"},0!==this.state.dataArr.length?s.a.createElement(Nn.CSVLink,{filename:"Ratings_".concat(ie()(new Date).format("DDMMYYYY_HHMMSS"),".csv"),data:this.state.dataArr,className:"btn btn-sm btn-success w-100"},"Download"):s.a.createElement("button",{className:"btn btn-sm btn-success ml-sm-0 mt-lg-0 mt-md-0 w-100",disabled:!0},"Download"))))),s.a.createElement("div",{className:"row",style:{minHeight:"400px"}},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"box bg-white rounded-lg "}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:" col-12 p-3"},0===this.props.ratingList.length||this.state.showLoading?this.state.showLoading?s.a.createElement("tr",{style:{height:"70px"}},s.a.createElement("td",{colSpan:"13"},s.a.createElement(Xt.a,{size:"lg",className:"ml-2 m-1 spinner"}))):s.a.createElement("p",{className:"align-center mt-5"},"No data found"):s.a.createElement(Yn.a,{responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{textAlign:"left"}},"#"),s.a.createElement("th",{style:{textAlign:"left"}},"Location"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Booking Type"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Booking Date"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Booking No"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Rated By"),s.a.createElement("th",{style:{minWidth:"150px",textAlign:"left"}},"Rating Service"),s.a.createElement("th",{style:{minWidth:"200px",textAlign:"left"}},"Rating Phlebotomist"),s.a.createElement("th",{style:{minWidth:"150px",textAlign:"left"}},"Rating Patient"),s.a.createElement("th",{style:{textAlign:"left"}},"Review"),s.a.createElement("th",{style:{textAlign:"left"}},"Feedback"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"200px"}},"Service Rated Date"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"250px"}},"Phlebotomist Rated Date"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"200px"}},"Patient Rated Date"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Review Date"),s.a.createElement("th",{style:{textAlign:"left",minWidth:"150px"}},"Feedback Date"))),s.a.createElement("tbody",null,this.props.ratingList.map((function(e,t){return s.a.createElement(jn,Object.assign({key:t},e,{sNo:t+1}))})))))))))))))}}]),a}(n.Component),(function(e){return{ratingList:e.ratingState.ratingList,reviewTypeList:e.ratingState.reviewTypeList,ratingActionTypeList:e.ratingState.ratingActionTypeList,ratingByStarList:e.ratingState.ratingByStarList,ratedByList:e.ratingState.ratedByList}}),{getRatedBy:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ot,e);case 3:200===(s=a.sent).Code?(n({type:V,payload:s.Message}),t(!0)):(n({type:V,payload:[]}),t(!1)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getRatingActionType:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ot,e);case 3:200===(s=a.sent).Code?(n({type:U,payload:s.Message}),t(!0)):(n({type:U,payload:[]}),t(!1)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getRating:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(rt,e);case 3:200===(s=a.sent).Code?(n({type:z,payload:s.Message[0].Rating_Detail}),t(s)):(n({type:z,payload:[]}),t(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,n({type:z,payload:[]}),t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getRatingByStar:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ot,e);case 3:200===(s=a.sent).Code?(n({type:G,payload:s.Message}),t(!0)):(n({type:G,payload:[]}),t(!1)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getReviewType:function(e,t){return function(){var a=Object(Pt.a)(Mt.a.mark((function a(n){var s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,It.post(ot,e);case 3:200===(s=a.sent).Code?(n({type:R,payload:s.Message}),t(!0)):(n({type:R,payload:[]}),t(!1)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0,t(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},showNotification:Ut}),In=ea(function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(te.a)(this,a),(n=t.call(this,e)).getMyImage=function(e,t){return e.filter((function(e){return e.Pt_Code===t}))[0].Pt_Profile_Picture},n.handleChange=function(e){if("promotion"===e.target.name&&""===e.target.value.trim()){var t=n.state.service;if(t&&t.length)for(var a=0,s=t.length;a<s;a++)t[a].Service_Discount=0*t[a].Service_Amount/100;n.setState({promotion:"",promoApplied:!1,promotionPercent:0,promotionSelected:"",promoAppliedMsg:"",service:[]})}else n.setState(Object(Tt.a)({},e.target.name,e.target.value))},n.getTest=function(e){var t={Search_Text:e,Start_Index:n.state.startIndex,Page_Count:n.state.pageCount};n.props.getTestDetails(t,(function(e){n.setState({showLoading:!1}),console.log("")}))},n.getSlot=function(){var e={Type_Of_Booking:n.state.visitType,Date_Of_Booking:ie()(n.state.bookDate).format("YYYY/MM/DD")};n.props.bookingSlotDaywise(e,(function(t){n.setState({showLoading:!1}),200===t.Code?(n.setState({timeSlots:t.Message[0].Slot_Detail||[]}),"H"===e.Type_Of_Booking?console.log(t.Message[0].Slot_Detail):console.log(t.Message[0])):console.log("")}))},n.setUserListData=function(e,t,a,s,o,r){n.setState({userListData:{name:t,age:a,relationship:s,gender:o}},(function(){var t={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,UserName:r};n.props.getUserAddressListDetails(t,(function(t){n.setState({showLoading:!1,selectedPtCode:e}),t?n.setState({selectedAddressType:n.props.patientAddressList[0].Address_Type_Code}):console.log("")})),n.props.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:n.state.serviceTotal,Pt_Code:e},(function(e,t){e&&("H"===n.state.visitType?n.setState({collectionCharges:t.Collection_Charge}):n.setState({collectionCharges:0}),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===n.state.visitType?n.setState({promotion:t.Promo_Code},(function(){var e=n.state.serviceTotal-n.state.serviceTotal*(t.Discount_In_Percent/100);n.setState({promoApplied:!0,promotionSelected:n.state.promotion,promoAppliedMsg:"Promo Applied",promotionPercent:t.Discount_In_Percent,serviceTotalDis:e})})):n.setState({promoApplied:!1,promotion:"",promoAppliedMsg:"",promotionPercent:0}))}))}))},n.executeScroll=function(){return n.myRef&&n.myRef.current.scrollIntoView()},n.applyPromotion=function(){var e=n.state.serviceSupportedPromo,t=n.state.serviceNonSupportedPromo;n.setState({showPromotionLoading:!0});var a={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Username:n.props.patientList[0].Mobile_No,Promo_Code:n.state.promotion};n.props.getPromotiontApplyDetails(a,(function(a){if(n.setState({showPromotionLoading:!1}),"true"===a.SuccessFlag){var s=Object.keys(e).map((function(t){return e[t].Amount})).reduce((function(e,t){return e+t}),0),o=Object.keys(t).map((function(e){return t[e].Amount})).reduce((function(e,t){return e+t}),0);s&&(s=o+s-s*(a.Message[0].Offer_Percentage/100)),n.setState({totalServiceDiscountedAmount:s,promoApplied:!0,promotionSelected:n.state.promotion,promoAppliedMsg:"Promo Applied",promotionPercent:a.Message[0].Offer_Percentage,serviceTotalDis:s})}else n.props.showNotification("Error",a.Message[0].Message,Pa),n.setState({promotion:"",promoAppliedMsg:"Voucher Invalid!",promoApplied:!1,promotionPercent:0}),setTimeout((function(){n.setState({promoAppliedMsg:""})}),3e3)}))},n.visitTypeChange=function(e,t,a){"W"===e&&n.setState({phlebotomist:""}),n.setState({minDate:ie()(t).format("YYYY-MM-DD"),maxDate:ie()(a).format("YYYY-MM-DD"),visitType:e},(function(){return n.getSlot()})),n.props.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:n.state.serviceTotal,Pt_Code:n.state.selectedPtCode},(function(e,t){e&&("H"===n.state.visitType?n.setState({collectionCharges:t.Collection_Charge}):n.setState({collectionCharges:0}),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===n.state.visitType?n.setState({promotion:t.Promo_Code},(function(){var e=n.state.serviceTotal-n.state.serviceTotal*(t.Discount_In_Percent/100);n.setState({promoApplied:!0,promotionSelected:n.state.promotion,promoAppliedMsg:"Promo Applied",promotionPercent:t.Discount_In_Percent,serviceTotalDis:e})})):n.setState({promoApplied:!1,promotion:"",promoAppliedMsg:"",promotionPercent:0,promotionSelected:""}))}))},n.setAddressListData=function(e){n.setState({selectedAddressType:e})},n.addService=function(e,t){var a,s,o=n.state.service;o.push({data:e}),a=o.filter((function(e){return!1===e.data.Suppress_Discount})).reduce((function(e,t){return e[t.data.Service_Code]=t.data,e}),{}),s=o.filter((function(e){return!0===e.data.Suppress_Discount})).reduce((function(e,t){return e[t.data.Service_Code]=t.data,e}),{}),n.setState({service:o,serviceSupportedPromo:a,serviceNonSupportedPromo:s});var r=n.props.testList;r.splice(t,1),n.props.setTestListInStore(r);var l,c=Object.keys(a).map((function(e){return a[e].Amount})).reduce((function(e,t){return e+t}),0),i=Object.keys(s).map((function(e){return s[e].Amount})).reduce((function(e,t){return e+t}),0),m=c+i;console.log("before discount",c),c&&n.state.promoApplied&&(c-=c*(n.state.promotionPercent/100)),console.log("withDiscount",c),console.log("withOutDiscount",i),l=c+i,n.props.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:l,Pt_Code:n.state.selectedPtCode},(function(e,t){e&&("H"===n.state.visitType?n.setState({collectionCharges:t.Collection_Charge}):n.setState({collectionCharges:0}),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===n.state.visitType?n.setState({promotion:t.Promo_Code},(function(){var e=n.state.serviceTotal-n.state.serviceTotal*(t.Discount_In_Percent/100);n.setState({promoApplied:!0,promotionSelected:n.state.promotion,promoAppliedMsg:"Promo Applied",promotionPercent:t.Discount_In_Percent,totalServiceDiscountedAmount:e,serviceTotal:m})})):n.state.promoApplied&&n.setState({totalServiceDiscountedAmount:l}))})),n.setState({service:o,serviceTotal:m,searchTest:""})},n.removeService=function(e){var t,a,s=null===(t=n.state.service[e])||void 0===t||null===(a=t.data)||void 0===a?void 0:a.Service_Code,o=n.state.service,r=o.splice(e,1),l=n.state.serviceSupportedPromo,c=n.state.serviceNonSupportedPromo;console.log("temp service out",s),s>=0&&(l.hasOwnProperty(s)&&delete l[s],console.log(l.hasOwnProperty(s)),c.hasOwnProperty(s)&&delete c[s]);var i=n.props.testList;i.push(r[0].data),n.props.setTestListInStore(i);var m,d=Object.keys(l).map((function(e){return l[e].Amount})).reduce((function(e,t){return e+t}),0),u=Object.keys(c).map((function(e){return c[e].Amount})).reduce((function(e,t){return e+t}),0),p=d+u;d&&n.state.promoApplied&&(d-=d*(n.state.promotionPercent/100)),console.log("withDiscount",d),console.log("withOutDiscount",u),m=d+u,n.props.getCollectionCharges({Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Bill_Amount:m,Pt_Code:n.state.selectedPtCode},(function(e,t){e&&("H"===n.state.visitType?n.setState({collectionCharges:t.Collection_Charge}):n.setState({collectionCharges:0}),t.Promo_Code&&""!==t.Promo_Code.trim()&&"W"===n.state.visitType?n.setState({promotion:t.Promo_Code},(function(){var e=n.state.serviceTotal-n.state.serviceTotal*(t.Discount_In_Percent/100);n.setState({promoApplied:!0,promotionSelected:n.state.promotion,promoAppliedMsg:"Promo Applied",promotionPercent:t.Discount_In_Percent,totalServiceDiscountedAmount:e}),n.setState({serviceSupportedPromo:l,serviceNonSupportedPromo:c,service:o})})):n.state.promoApplied&&n.setState({totalServiceDiscountedAmount:m}))})),n.setState({serviceSupportedPromo:l,serviceNonSupportedPromo:c,service:o,searchTest:"",serviceTotal:p})},n.addBookTest=function(){var e=[],t=n.state.serviceTotal;if(n.setState({amountToPay:n.state.promoApplied?t-n.state.serviceTotal*n.state.promotionPercent/100:t}),n.state.service.forEach((function(t){e.push({Service_Code:t.data.Service_Code,Service_Amount:t.data.Amount,Service_Discount:!1===t.data.Suppress_Discount&&n.state.promoApplied?t.data.Amount*n.state.promotionPercent/100:0})})),Wt(e)||Zt(n.state.bookTime)||Zt(n.state.bookDate))n.setState({hasError:!0}),Zt(n.state.bookTime)&&n.props.showNotification("Warning","Please select slot time",Pa),Wt(e)&&n.props.showNotification("Warning","Please select services",Pa);else{n.setState({showLoading:!0});var a=ie()(n.state.bookTime.trim(),["h:mm A"]).format("HH:mm"),s={Sample_Collect_Charge:n.state.collectionCharges,Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Username:n.props.location.state.User_Login_Name,Booking_Type:n.state.visitType,Firm_No:de.a.get("userSession").Message[0].Firm_No,Visit_Date:ie()(n.state.bookDate).format("YYYY/MM/DD"),Visit_Time:a,Pt_Code:n.state.selectedPtCode,Address_Type:n.state.selectedAddressType,Service_Reg_Data:e,Pay_Mode:n.state.paymentMode,Promo_Code:n.state.promotionSelected,Collector_Code:n.state.phlebotomist};n.props.bookTest(s,(function(e){n.setState({showLoading:!1}),"true"===e.SuccessFlag?(n.props.showNotification("Success",e.Message&&e.Message[0].Description,Ma),n.setState({showConfirmation:!0,bookingNumber:e.Message[0].Booking_No,userListData:{},userData:{},maxDate:"",serviceTotal:0,collectionCharges:0,service:[],minDate:"",promotionSelected:"",visitType:"",promoApplied:!1,promoAppliedMsg:"",promotion:"",promotionPercent:0,paymentMode:"C",phlebotomist:"",bookType:"",bookTime:"",bookDate:ie()(new Date).format("YYYY-MM-DD")},(function(){return n.executeScroll()})),n.props.history.push(wt)):n.props.showNotification("Error",e.Message[0].Message,Pa)}))}},n.removeCoupenCode=function(){var e=n.state.serviceTotal;n.setState({serviceTotalDis:e,promotionPercent:0,promotionSelected:"",promotion:"",promoApplied:!1,promoAppliedMsg:""})},n.myRef=s.a.createRef(),n.state={showLoading:!1,userListData:{},userData:{},maxDate:"",minDate:"",visitType:"",selectedPtCode:"",selectedAddressType:"",searchText:"",startIndex:1,pageCount:100,service:[],serviceTotal:0,promoApplied:!1,promoAppliedMsg:"",promotion:"",promotionPercent:0,paymentMode:"C",phlebotomist:"",bookType:"",bookTime:"",bookDate:ie()(new Date).format("YYYY-MM-DD"),user:"",promotionSelected:"",showPromotionLoading:!1,timeSlots:[],showConfirmation:!1,bookingNumber:0,collectionCharges:0,discountValue:!1,serviceSupportedPromo:{},serviceNonSupportedPromo:{},totalServiceDiscountedAmount:0},n}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.resetToInitialState(),this.props.setTestListInStore([]),this.setState({userListData:{},userData:{},maxDate:"",serviceTotal:0,service:[],minDate:"",visitType:"",promotionSelected:"",promoApplied:!1,promoAppliedMsg:"",promotion:"",promotionPercent:0,paymentMode:"C",phlebotomist:"",bookType:"",bookTime:"",bookDate:ie()(new Date).format("YYYY-MM-DD")});var t=this.props.location.state.patientCode;this.setState({showLoading:!0}),this.props.getPhlebotomistDetails({},(function(t){e.setState({showLoading:!1}),console.log("")})),this.props.getBookingTypeDetails({},(function(t){e.setState({showLoading:!1}),t?e.setState({minDate:ie()(e.props.bookingTypeList[0].Slot_Start_Date).format("YYYY-MM-DD"),maxDate:ie()(e.props.bookingTypeList[0].Slot_End_Date).format("YYYY-MM-DD"),visitType:e.props.bookingTypeList[0].Booking_Type_Code}):console.log("")}));var a={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,Pt_Code:t};this.setState({selectedPtCode:t}),this.props.getPatientDetails(a,(function(t){if(t){e.setState({userListData:{name:e.props.patientList[0].Patient_Name,age:e.props.patientList[0].First_Age,relationship:e.props.patientList[0].RelationShip_Name,gender:e.props.patientList[0].Gender},userData:Object(u.a)(Object(u.a)({},e.state.userData),{name:e.props.patientList[0].Patient_Name,age:e.props.patientList[0].First_Age,patientId:e.props.patientList[0].Patient_ID,relationship:e.props.patientList[0].RelationShip_Name,gender:e.props.patientList[0].Gender})});var a={Labadmin_Code:de.a.get("userSession").Message[0].Labadmin_Code,UserName:e.props.patientList[0].User_Name};e.props.getPatientListDetails(a,(function(t,n){e.setState({showLoading:!1,userData:Object(u.a)(Object(u.a)({},e.state.userData),{image:e.getMyImage(n.Patient_Detail,e.state.userData.patientId),User_Image_Url:n?n.User_Image_Url:""})}),t?e.props.getUserAddressListDetails(a,(function(t){e.setState({showLoading:!1}),t?e.setState({selectedAddressType:e.props.patientAddressList[0].Address_Type_Code}):console.log("")})):(e.props.showNotification("Error","Invalid Username or Patient not found",Pa),e.props.history.push(wt))}))}else console.log("")}));var n={Type_Of_Booking:"H",Date_Of_Booking:ie()(this.state.bookDate).format("YYYY/MM/DD")};this.props.bookingSlotDaywise(n,(function(t){e.setState({showLoading:!1}),t&&200===t.Code?(e.setState({timeSlots:t.Message[0].Slot_Detail||[]}),"H"===n.Type_Of_Booking?console.log(t.Message[0].Slot_Detail):console.log(t.Message[0])):console.log("")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.maxDate,n=t.minDate,o=t.visitType,r=t.selectedPtCode,l=t.selectedAddressType;return s.a.createElement(s.a.Fragment,null,s.a.createElement(hn,{name:this.state.userData.name,image:this.state.userData.image,age:this.state.userData.age,gender:this.state.userData.gender}),s.a.createElement("div",{className:"main-content overflow-auto pb-3 bg-white"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"px-lg-3"},s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"1"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Lab Test Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-flex flex-wrap"},s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Test-Details "},s.a.createElement("div",{className:""},s.a.createElement("h6",{className:"text-gray font-weight-bold"},"Search Test"),s.a.createElement("div",{className:"input-group Search-width my-3"},s.a.createElement("input",{type:"text",className:"form-control border-0 p-4",placeholder:"Search or Add",name:"searchTest",value:this.state.searchTest,onChange:function(t){e.setState({searchTest:t.target.value}),e.getTest(t.target.value)}}),s.a.createElement("div",{className:"input-group-btn"},s.a.createElement("button",{className:"btn btn-secondary",type:"submit"},s.a.createElement("i",{className:"far fa-search text-white"})))),this.state.hasError&&Wt(this.state.service)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Select an Service to Continue")),this.state.service&&this.state.service.map((function(t,a){return s.a.createElement("button",{key:a,type:"button",className:"btn btn-sm btn-primary button-tag",onClick:function(){return e.removeService(a)},style:{marginRight:"10px",marginBottom:"10px"}},t.data.Service_Name,s.a.createElement("span",{className:"badge badge-close"},s.a.createElement("i",{className:"far fa-times"})))})),s.a.createElement("div",{className:"card col-lg-10 col-sm-12 my-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card-body"},s.a.createElement("ul",{className:"list-group patient-listtag text-color bookTest-testFilter"},s.a.createElement("p",{className:"fa-md"},"Lab Test"),this.props.testList&&this.props.testList.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("button",{key:a,type:"button",className:"btn btn-sm btn-secondary fal fa-plus",onClick:function(){return e.addService(t,a)},style:{marginRight:"10px"}},t.code),t.Service_Name)})),this.props.testList.length?null:s.a.createElement("li",null,s.a.createElement("small",null,"No search results"))))))))),s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Test-Details"},s.a.createElement("h6",{className:"text-gray font-weight-bold"},"Choose Phlebotomist"),s.a.createElement("div",{className:"dropdown my-3"},s.a.createElement(sa.a,null,s.a.createElement(oa.a,{className:"col-sm-12 p-2 dropdown-toggle patient-dropdown d-flex justify-content-between align-items-center bg-white",type:"select",placeholder:"Select",name:"phlebotomist",value:this.state.phlebotomist,onChange:function(t){return e.handleChange(t)},disabled:"W"===o},s.a.createElement("option",{value:""},"Select Phlebotomist"),this.props.phlebotomistList&&this.props.phlebotomistList.map((function(e,t){return s.a.createElement("option",{value:e.Collector_Code,key:t},e.Collector_Name)}))))))))),s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"2"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Date and Time"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-flex flex-wrap py-4"},s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"Vist-type"},s.a.createElement("div",{className:" "},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Visit type"),s.a.createElement("div",{className:"form-control res-width w-50"},this.props.bookingTypeList&&this.props.bookingTypeList.map((function(t,a){if("L"!==t.Booking_Type_Code)return s.a.createElement("div",{className:"form-check form-check-inline",key:a},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"bookType",id:t.Booking_Type_Code,value:t.Booking_Type_Code,checked:t.Booking_Type_Code===o,onClick:function(){return e.visitTypeChange(t.Booking_Type_Code,t.Slot_Start_Date,t.Slot_End_Date)}}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:t.Booking_Type_Code},t.Type_Of_Booking))})))))),s.a.createElement("div",{className:"col-md-6 col-sm-4 mb-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"Vist-type col-sm-6 "},s.a.createElement("div",{className:"position-relative mob-width"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Date"),s.a.createElement(sa.a,null,s.a.createElement(da.a,{name:"bookDate",value:this.state.bookDate,onChange:function(t){return e.setState({bookDate:ie()(t).format("YYYY-MM-DD")},(function(){return e.getSlot()}))},maxDate:a,minDate:n,dateFormat:"DD/MM/YYYY",showClearButton:!1})),this.state.hasError&&Zt(this.state.bookDate)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Select an Date")))),s.a.createElement("div",{className:"Vist-type col-sm-6"},s.a.createElement("div",{className:"position-relative mob-width ml-sm-n3"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Time"),s.a.createElement("select",{className:"form-control",name:"bookTime",value:this.state.bookTime,onChange:function(t){return e.handleChange(t)}},s.a.createElement("option",null,"Select time slot"),this.state.timeSlots.map((function(e,t){return s.a.createElement("option",{key:t,value:e.Slot_Time},e.Slot_Time)}))),this.state.hasError&&Zt(this.state.bookTime)&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},"Select an Time")))))))),s.a.createElement("div",{className:"bg-dark mb-4"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"}),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"3"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Update User Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-sm-flex flex-wrap my-3"},s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12 col-sm-12 mob-width",style:{}},s.a.createElement("div",{className:"Vist-type ",style:{overflowX:"auto"}},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Choose Patient"),s.a.createElement("div",{className:"d-sm-flex patient-web mb-3 "},this.props.patientUserList&&this.props.patientUserList.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-control d-sm-flex  patient-inner flex-wrap mr-2 mb-lg-0 mb-md-0 mb-3"},s.a.createElement("div",{className:"form-check form-check-inline mr-0 Patient-tag text-truncate"},s.a.createElement("img",{src:"Self"===t.RelationShip_Name&&e.state.userData&&e.state.userData.User_Image_Url||aa.a,alt:"",className:"rounded-circle",style:{height:"20px",width:"20px"}}),s.a.createElement("label",{className:"form-check-label mx-2",htmlFor:t.Pt_Code},t.RelationShip_Name),s.a.createElement("input",{className:"form-check-input mr-0",type:"radio",name:"user",id:t.Pt_Code,checked:t.Pt_Code===r,onChange:function(){return e.setUserListData(t.Pt_Code,t.Pt_Name,t.Pt_First_Age,t.RelationShip_Name,t.Pt_Gender,t.Pt_Mobile_No)}})))}))),s.a.createElement("div",{className:"w-75 res-width"},s.a.createElement("div",{className:"patient-details  p-2 my-3",style:{maxWidth:"max-content"}},s.a.createElement("ul",{className:"list-group list-group-horizontal patient-name align-items-center"},s.a.createElement("li",null,s.a.createElement("span",{className:"border-right pr-3"},this.state.userListData.name,", ",this.state.userListData.age)),s.a.createElement("li",null,s.a.createElement("span",{className:"border-right px-3"},this.state.userListData.gender)),s.a.createElement("li",null,s.a.createElement("span",{className:"pl-3"},this.state.userListData.relationship))))))),s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12  col-sm-12 mob-width",style:{}},s.a.createElement("div",{className:"visit-edit"},s.a.createElement("h6",{className:"text-color mb-3 font-weight-bold"},"Choose Address"),s.a.createElement("div",{className:"row"},this.props.patientAddressList&&this.props.patientAddressList.map((function(t,a){return s.a.createElement("div",{key:a,className:"col-sm-6 "},s.a.createElement("div",{className:" card mb-3  p-3 flex-row"},s.a.createElement("div",{className:"form-check "},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"selectedAddressType",id:t.Address_Type_Code,value:t.Address_Type_Code,checked:l===t.Address_Type_Code,onChange:function(){return e.setAddressListData(t.Address_Type_Code)}}),s.a.createElement("label",{className:"form-check-label",htmlFor:t.Address_Type_Code},t.Address_Type_Desc),s.a.createElement("p",{className:"text-gray mb-0 mt-1",style:{fontSize:"13px"}},t.Full_Address))))}))))))),s.a.createElement("div",{className:"bg-dark mb-4 pb-2"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"},s.a.createElement("h6",{className:"mb-0 text-color font-weight-bold ml-3"},"Payment Details")),s.a.createElement("div",{className:"col-lg-6 mt-lg-0 mt-3 d-flex justify-content-lg-end align-items-center"},s.a.createElement("div",{className:"lab-details"},s.a.createElement("div",{className:"res-width lab-listed d-flex d-flex justify-content-between align-self-center align-items-center "},s.a.createElement("span",{className:"badge badge-blue bg-blue rounded-circle text-white mr-2"},"4"),s.a.createElement("h6",{className:"mb-0 text-blue font-weight-normal mr-2"},"Payment Details"),s.a.createElement("span",{className:" d-flex "},s.a.createElement("i",{className:"far fa-check-circle text-success "})))))),s.a.createElement("div",{className:"d-sm-flex flex-wrap my-3"},s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12 col-sm-12 mob-width"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h6",{className:"text-color mb-1"},"Payment Details"),s.a.createElement("h6",{className:"text-color mb-1"},"Amount(Rs)")),s.a.createElement("hr",{className:"my-2"}),s.a.createElement("div",{className:"patient-web mb-3 "},s.a.createElement("div",{className:"row"},this.state.service&&this.state.service.map((function(e,t){return s.a.createElement("div",{className:"col-sm-12",key:t},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"flex-grow-1 text-color"},e.data.Service_Name),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color"},e.data.Amount))),s.a.createElement("hr",{className:"my-1"}))}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"flex-grow-1 text-color"},"Order Value"),s.a.createElement("div",{className:"justify-content-end d-flex"},s.a.createElement("p",{className:"mb-0 mr-4 text-color text-danger"},s.a.createElement("del",null,this.state.promoApplied&&Object.keys(this.state.serviceSupportedPromo).length>0?"".concat(this.state.serviceTotal.toFixed(2)):"")),s.a.createElement("p",{className:"mb-0 text-color text-success"},this.state.promoApplied&&Object.keys(this.state.serviceSupportedPromo).length>0?this.state.totalServiceDiscountedAmount.toFixed(2):this.state.serviceTotal.toFixed(2)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"col-form-label text-color flex-grow-1"},"Sample collection charges"),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color text-success"},this.state.collectionCharges.toFixed(2)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"d-flex list-inline"},s.a.createElement("label",{className:"col-form-label text-color flex-grow-1"},"Amount Payable"),s.a.createElement("div",{className:"justify-content-end"},s.a.createElement("p",{className:"mb-0 text-color text-success"},this.state.promoApplied?(this.state.totalServiceDiscountedAmount+this.state.collectionCharges).toFixed(2):(this.state.serviceTotal+this.state.collectionCharges).toFixed(2))))))))),s.a.createElement("div",{className:" d-flex col-lg-6 col-md-12  col-sm-12 mob-width"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-10"},s.a.createElement("div",{className:"visit-edit"},s.a.createElement("h6",{className:"text-color mb-3"},"Voucher Code"," ",!this.state.showPromotionLoading&&this.state.promotion?s.a.createElement("span",{style:{float:"right",color:this.state.promoApplied&&Object.keys(this.state.serviceSupportedPromo).length>0?"green":"red"}},Object.keys(this.state.serviceSupportedPromo).length>0?this.state.promoAppliedMsg:"Discount is not applicable"):""),s.a.createElement("div",{className:"form-group d-flex justify-content-between"},s.a.createElement(fa.a,null,s.a.createElement("input",{type:"text",className:"form-control bg-transparent patient-details",placeholder:"Voucher Code",name:"promotion",value:this.state.promotion,onChange:function(t){return e.handleChange(t)}}),!this.state.showPromotionLoading&&this.state.promotion?s.a.createElement("span",{className:"fa fa-times-circle closeIcon",onClick:function(){return e.removeCoupenCode()}}):"",s.a.createElement(ha.a,{addonType:"append"},s.a.createElement(ba.a,{color:"secondary",disabled:this.state.showPromotionLoading||this.state.showPromotion||!this.state.promotion,onClick:function(){return e.applyPromotion()}},"Apply",this.state.showPromotionLoading&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"}))))))),s.a.createElement("div",{className:"col-10"},s.a.createElement("div",{className:"Vist-type mb-lg-0 mb-md-3 mb-3"},s.a.createElement("div",{className:" "},s.a.createElement("h6",{className:"text-color mb-3"},"Payment Mode"),s.a.createElement("div",{className:"form-control res-width"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"paymentMode",id:"paymentModeCash",checked:"C"===this.state.paymentMode,onChange:function(t){return e.handleChange(t)},value:"C"}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:"paymentModeCash"},"Cash")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"paymentMode",id:"paymentModeOnline",checked:"O"===this.state.paymentMode,onChange:function(t){return e.handleChange(t)},value:"O"}),s.a.createElement("label",{className:"form-check-label text-black",htmlFor:"paymentModeOnline"},"Online"))))))))),this.state.showConfirmation?null:s.a.createElement("div",{className:"d-flex justify-content-end mr-4 my-5"},s.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.addBookTest()},disabled:this.state.showLoading},"Book now ",this.state.showLoading&&s.a.createElement(Xt.a,{size:"sm",className:"ml-2 m-1"})))),this.state.showConfirmation?s.a.createElement("div",{className:"bg-dark  mb-4 pb-2"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-lg-6 align-self-center"},s.a.createElement("h6",{className:"mb-0 text-color font-weight-bold font-weight-bold ml-3"},"Booking Confirmation"))),s.a.createElement("div",{className:"pl-5"},s.a.createElement("p",null,"Your booking has been confirmed, following is your booking number : ",this.state.bookingNumber," ","C"!==this.state.paymentMode?", please complete the Payment through your mobile application.":null)),s.a.createElement("div",{className:"text-center"},s.a.createElement("h6",{className:"mb-0 font-weight-bold"},"C"===this.state.paymentMode?"Pay in Cash":"Pay Online")),s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"amount-paid p-2 my-3 text-white"},"Amount to be paid"),s.a.createElement("div",{className:"patient-details p-2 my-4 bg-blue"},s.a.createElement("ul",{className:"list-group list-group-horizontal patient-name"},s.a.createElement("li",{className:"text-white"},"Rs. ",this.state.amountToPay)))),s.a.createElement("div",{className:"d-flex justify-content-end mr-4 mb-3"},s.a.createElement("button",{ref:this.myRef,className:"btn btn-sm btn-secondary",onClick:function(){return e.props.history.push(wt)}},"Go Back"))):null))))))}}]),a}(n.Component),(function(e){return{phlebotomistList:e.bookingDetailsState.phlebotomistList,bookingTypeList:e.bookingDetailsState.bookingTypeList,patientUserList:e.bookTestState.patientUserList,patientList:e.bookTestState.patientList,patientAddressList:e.bookTestState.userAddressList,testList:e.bookingDetailsState.testList}}),{getPhlebotomistDetails:la,getBookingTypeDetails:ca,getPatientListDetails:Na,getPatientDetails:Ea,getUserAddressListDetails:ya,getTestDetails:ia,getPromotiontApplyDetails:_a,bookTest:wa,showNotification:Ut,bookingSlotDaywise:ka,resetToInitialState:Gt,setTestListInStore:Sa,getCollectionCharges:Da}),Rn=["component"],Un=function(e){var t=e.component,a=Object(oe.a)(e,Rn);return s.a.createElement(re.b,Object.assign({},a,{render:function(e){return pt()?s.a.createElement(t,e):s.a.createElement(re.a,{to:bt})}}))},Gn=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){return Object(te.a)(this,a),t.apply(this,arguments)}return Object(ae.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.StrictMode,null,s.a.createElement(le.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(re.d,null,s.a.createElement(re.b,{path:bt,exact:!0,component:qt}),s.a.createElement(re.b,{path:Et,exact:!0,component:Ua}),s.a.createElement(re.b,{path:Nt,exact:!0,component:Va}),s.a.createElement(Un,{path:vt,exact:!0,component:Za}),s.a.createElement(Un,{path:yt,exact:!0,component:Ia}),s.a.createElement(Un,{path:wt,exact:!0,component:Za}),s.a.createElement(Un,{path:_t,exact:!0,component:rn}),s.a.createElement(Un,{path:Dt,exact:!0,component:qa}),s.a.createElement(Un,{path:Ct,exact:!0,component:mn}),s.a.createElement(Un,{path:xt,exact:!0,component:fn}),s.a.createElement(Un,{path:St,exact:!0,component:bn}),s.a.createElement(Un,{path:kt,exact:!0,component:yn}),s.a.createElement(Un,{path:Lt,exact:!0,component:Pn}),s.a.createElement(Un,{path:Ot,exact:!0,component:Bn}),s.a.createElement(Un,{path:"/book-test/BookNewone",component:In}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,zn=Object(c.d)(ee,be?Vn(Object(c.a)(i.a)):Object(c.a)(i.a));r.a.render(s.a.createElement(l.a,{store:zn},s.a.createElement(d.a,null),s.a.createElement(Gn,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[268,1,2]]]);
//# sourceMappingURL=main.6d2d6b8b.chunk.js.map